# åŸºç¡€

## å¸¸é‡å’Œå˜é‡

**å¸¸é‡**çš„å€¼ä¸€æ—¦è®¾ç½®å°±æ— æ³•æ›´æ”¹ï¼Œè€Œ**å˜é‡**çš„å€¼æ˜¯å¯ä»¥è¢«æ›´æ”¹çš„ã€‚

### å£°æ˜å¸¸é‡å’Œå˜é‡

ä½¿ç”¨`let`å…³é”®å­—å£°æ˜**å¸¸é‡**ï¼Œä½¿ç”¨`var`å…³é”®å­—å£°æ˜**å˜é‡**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```swift
// å£°æ˜ä¸€ä¸ªå¸¸é‡
let sex = "man"

// å£°æ˜ä¸€ä¸ªå˜é‡
var name = "alix"
```

ä¹Ÿå¯ä»¥åœ¨ä¸€è¡Œä¸Šå£°æ˜å¤šä¸ªå¸¸é‡æˆ–è€…å¤šä¸ªå˜é‡ï¼Œä»¥`,`åˆ†éš”ï¼š

```swift
var x = 0.0, y = 0.0, z = 0.0
```



**å¦‚æœä»£ç ä¸­çš„å­˜å‚¨å€¼ä¸ä¼šè¢«æ›´æ”¹ï¼Œåˆ™å§‹ç»ˆå°†å…¶å£°æ˜ä¸º**å¸¸é‡**ï¼›å¦åˆ™ï¼Œä½¿ç”¨**å˜é‡**å»å­˜å‚¨éœ€è¦æ›´æ”¹çš„å€¼ã€‚**

### ç±»å‹æ³¨é‡Š

å£°æ˜å¸¸é‡æˆ–è€…å˜é‡æ—¶ï¼Œå¯ä»¥æä¾›ç±»å‹æ³¨é‡Šï¼Œä»¥æ˜ç¡®å¸¸é‡æˆ–è€…å˜é‡å¯ä»¥å­˜å‚¨çš„å€¼ç±»å‹ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```swift
var welcomeMessage: String

welcomeMessage = "hello"

// åœ¨ä¸€è¡Œä¸Šå®šä¹‰å¤šä¸ªã€ç›¸åŒç±»å‹ã€‘çš„å˜é‡
var red, green, blue: Double
```



> åœ¨å®è·µä¸­å®šä¹‰ä¸€ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ—¶ï¼Œå¾ˆå°‘éœ€è¦æä¾›ç±»å‹æ³¨é‡Šã€‚å¦‚æœæˆ‘ä»¬åœ¨å®šä¹‰å¸¸é‡æˆ–è€…å˜é‡æ—¶ï¼Œä¸ºå…¶æä¾›åˆå§‹å€¼ï¼ŒSwift ä¼šè‡ªåŠ¨æ¨åŠ¨è¯¥å¸¸é‡æˆ–å˜é‡ä½¿ç”¨çš„ç±»å‹ã€‚å¦‚æœæˆ‘ä»¬åœ¨å®šä¹‰å¸¸é‡æˆ–è€…å˜é‡æ—¶ï¼Œæ²¡æœ‰ä¸ºå…¶æä¾›åˆå§‹å€¼ï¼Œé‚£ä¹ˆå°±**éœ€è¦æä¾›**ç±»å‹æ³¨é‡Šã€‚å¦åˆ™ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚



### å‘½åå¸¸é‡å’Œå˜é‡

å¸¸é‡åå’Œå˜é‡åå‡ ä¹å¯ä»¥åŒ…å«ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬ Unicode å­—ç¬¦ï¼š

```swift
let Ï€ = 3.14159
let ä½ å¥½ = "ä½ å¥½ä¸–ç•Œ"
let ğŸ¶ğŸ® = "dogcow"
```



**å¸¸é‡åå’Œå˜é‡åä¸èƒ½åŒ…å«ç©ºæ ¼å­—ç¬¦ã€æ•°å­¦ç¬¦å·ã€ç®­å¤´ã€ç§äººä½¿ç”¨çš„ Unicode æ ‡é‡å€¼ã€è¡Œå’Œæ¡†ç”»å­—ç¬¦ï¼Œå®ƒä»¬ä¹Ÿä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œä½†æ˜¯æ•°å­—å¯ä»¥è¢«åŒ…å«åœ¨åç§°çš„å…¶ä»–åœ°æ–¹ã€‚**



ä¸€æ—¦å£°æ˜äº†ç‰¹å®šç±»å‹çš„å¸¸é‡æˆ–è€…å˜é‡ï¼Œå°±ä¸èƒ½å†æ¬¡å£°æ˜**åŒå**çš„å¸¸é‡æˆ–è€…å˜é‡ï¼Œä¹Ÿä¸èƒ½æ›´æ”¹å¸¸é‡æˆ–è€…å˜é‡çš„ç±»å‹ï¼Œä¹Ÿä¸èƒ½å°†å¸¸é‡æ›´æ”¹ä¸ºå˜é‡ï¼Œä¹Ÿä¸èƒ½å°†å˜é‡æ›´æ”¹ä¸ºå¸¸é‡ã€‚



å¦‚æœå¸¸é‡åæˆ–è€…å˜é‡åä¸ä¿ç•™çš„ Swift å…³é”®å­—ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨`åŒ…å›´å…³é”®å­—ã€‚ä½†æ˜¯ï¼Œé™¤éæˆ‘ä»¬åˆ«æ— é€‰æ‹©ï¼Œå¦åˆ™æ°¸è¿œä¸è¦ä½¿ç”¨å…³é”®å­—ä½œä¸ºå¸¸é‡æˆ–è€…å˜é‡çš„åç§°ã€‚

```swift
var `default` = "é»˜è®¤å€¼"
`default` = "åƒé‡‘æ•£å°½è¿˜å¤æ¥"
```



### æ‰“å°å¸¸é‡å’Œå˜é‡

å¯ä»¥ä½¿ç”¨`print(_:separator:terminator:)`å‡½æ•°æ‰“å°å¸¸é‡æˆ–è€…å˜é‡çš„å½“å‰å€¼ï¼š

```swift
print(welcomeMessage)
```

å€¼ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼ˆseparatorï¼‰é»˜è®¤ä¸º**ç©ºæ ¼å­—ç¬¦**ï¼Œç»ˆæ­¢ç¬¦ï¼ˆterminatorï¼‰é»˜è®¤ä¸º**æ¢è¡Œç¬¦**ã€‚



## æ³¨é‡Š

å•è¡Œæ³¨é‡Šä»¥ä¸¤ä¸ªæ­£æ–œæ å¼€å¤´ï¼š

```swift
// this is a comment.
```

å¤šè¡Œæ³¨é‡Šä»¥æ­£æ–œæ åŠ æ˜Ÿå·å¼€å¤´ï¼Œä»¥æ˜Ÿå·åŠ æ­£æ–œæ ç»“å°¾ï¼š

```swift
/* This is also a comment
but is written over multiple lines. */
```

åµŒå¥—å¤šè¡Œæ³¨é‡Šï¼š

```swift
/* This is the start of the first multiline comment.
/* This is the second, nested multiline comment. */ 
This is the end of the first multiline comment. */
```



## åˆ†å·

ä¸å…¶ä»–è¯­è¨€ä¸åŒï¼ŒSwift è¯­è¨€ä¸è¦æ±‚æˆ‘ä»¬åœ¨ä»£ç ä¸­çš„æ¯ä¸ªè¯­å¥ç»“æŸåå†™`;`ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨ä¸€è¡Œä¸Šå†™å¤šä¸ªå•ç‹¬çš„è¯­å¥ï¼Œåˆ™éœ€è¦å†™`;`ã€‚

```swift
let cat = "ğŸ±"; print(cat)
```



## æ•´æ•°

Swift ä»¥ **8ä½**ï¼ˆ`Int8`æˆ–`UInt8`ï¼‰ã€**16ä½**ï¼ˆ`Int16`æˆ–`UInt16`ï¼‰ã€**32ä½**ï¼ˆ`Int32`æˆ–`UInt32`ï¼‰ã€**64ä½**ï¼ˆ`Int64`æˆ–`UInt64`ï¼‰ å½¢å¼æä¾›æœ‰ç¬¦å·ï¼ˆæ­£ã€é›¶æˆ–è´Ÿï¼‰å’Œæ— ç¬¦å·ï¼ˆæ­£æˆ–é›¶ï¼‰æ•´æ•°ã€‚

### æ•´æ•°è¾¹ç•Œ

å¯ä»¥é€šè¿‡è®¿é—®æ•´æ•°ç±»å‹çš„`min`å’Œ`max`å±æ€§æ¥è·å–è¯¥æ•´æ•°ç±»å‹çš„è¾¹ç•Œï¼š

```swift
let minUInt32Value = UInt32.min
let maxUInt32Value = UInt32.max
```

### Int å’Œ UInt

`Int`å’Œ`UInt`æ˜¯åŠ¨æ€å®šä¹‰çš„ç±»å‹ã€‚åœ¨ 32ä½ æ¶æ„ä¸‹ï¼Œ`Int`ç­‰åŒäº`Int32`ï¼Œ`UInt`ç­‰åŒäº`UInt32`ï¼›åœ¨ 64ä½ æ¶æ„ä¸‹ï¼Œ`Int`ç­‰åŒäº`Int64`ï¼Œ`UInt`ç­‰åŒäº`UInt64`ã€‚



**Swift é»˜è®¤æ•´æ•°ç±»å‹ä¸º`Int`ç±»å‹ï¼Œé™¤éæˆ‘ä»¬éœ€è¦å¤„ç†ç‰¹å®šå¤§å°çš„æ•´æ•°ï¼Œå¦åˆ™è¯·å§‹ç»ˆä½¿ç”¨`Int`ç±»å‹æ¥å®šä¹‰æ•´æ•°ã€‚å³ä½¿å·²çŸ¥è¦å­˜å‚¨çš„å€¼ä¸ºéè´Ÿå€¼ï¼Œä¹Ÿåº”è¯¥ä½¿ç”¨`Int`ï¼Œè€Œä¸æ˜¯`UInt`ï¼Œé™¤éæŒ‡å®šéœ€è¦ä½¿ç”¨`UInt`ã€‚å®šä¹‰æ•´æ•°æ—¶ï¼Œç»Ÿä¸€ä½¿ç”¨`Int`æœ‰åŠ©äºä»£ç äº’æ“ä½œæ€§ï¼Œé¿å…äº†åœ¨ä¸åŒæ•°å­—ç±»å‹ä¹‹é—´è½¬æ¢çš„å¿…è¦æ€§ï¼Œå¹¶èƒ½åŒ¹é…æ•´æ•°ç±»å‹æ¨æ–­ã€‚**



## æµ®ç‚¹æ•°

Swift æä¾›äº†ä¸¤ç§**æœ‰ç¬¦å·**æµ®ç‚¹æ•°ç±»å‹ï¼š

- `Double`è¡¨ç¤º 64ä½ æµ®ç‚¹æ•°ã€‚
- `Float`è¡¨ç¤º 32ä½ æµ®ç‚¹æ•°ã€‚



**Swift é»˜è®¤çš„æµ®ç‚¹æ•°ç±»å‹ä¸º`Double`ã€‚`Double`çš„ç²¾åº¦è‡³å°‘ä¸ºå°æ•°ç‚¹å 15 ä½ï¼Œè€Œ`Float`çš„ç²¾åº¦å¯ä»¥åˆ°å°æ•°ç‚¹å 6 ä½ã€‚**

```swift
let sp: Float = 1.6666666666666666
        
print("\(sp)") // è¾“å‡ºç»“æœä¸º 1.6666666
```



## ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­

Swift è¯­è¨€æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå…¶ä¼šåœ¨ç¼–è¯‘ä»£ç æ—¶æ‰§è¡Œç±»å‹æ£€æŸ¥ï¼Œå¹¶å°†ä»»ä½•ä¸åŒ¹é…çš„ç±»å‹æ ‡è®°ä¸ºé”™è¯¯ã€‚



å½“ä½¿ç”¨ä¸åŒç±»å‹çš„å€¼æ—¶ï¼Œç±»å‹æ£€æŸ¥å¯ä»¥å¸®åŠ©æˆ‘ä»¬é¿å…é”™è¯¯ã€‚ç„¶è€Œï¼Œè¿™å¹¶ä¸æ„å‘³ç€æˆ‘ä»¬å¿…é¡»æŒ‡å®šæˆ‘ä»¬å£°æ˜çš„æ¯ä¸ªå¸¸é‡æˆ–å˜é‡çš„ç±»å‹ã€‚å¦‚æœæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šå¸¸é‡æˆ–å˜é‡çš„ç±»å‹ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘ä»£ç æ—¶ï¼Œä¼šæ ¹æ®æˆ‘ä»¬æä¾›çš„åˆå§‹å€¼è‡ªåŠ¨æ¨æ–­å¸¸é‡æˆ–å˜é‡çš„ç±»å‹ã€‚



```swift
// meaningOfLife å¸¸é‡ä¼šè¢«è‡ªåŠ¨æ¨æ–­ Int ç±»å‹
let meaningOfLife = 42

// pi å¸¸é‡ä¼šè¢«è‡ªåŠ¨æ¨æ–­ä¸º Double ç±»å‹
let pi = 3.14159

// anotherPi å¸¸é‡ä¼šè‡ªåŠ¨æ¨æ–­ä¸º Double ç±»å‹
let anotherPi = 3 + 0.14159
```



## æ•°å­—å­—é¢é‡



æ•´æ•°[å­—é¢é‡](https://baike.baidu.com/item/å­—é¢é‡/8500322?fr=aladdin)å¯ä»¥å†™æˆï¼š

- åè¿›åˆ¶æ•°ï¼Œæ²¡æœ‰å‰ç¼€
- äºŒè¿›åˆ¶æ•°ï¼Œå‰ç¼€ä¸º0b
- å…«è¿›åˆ¶æ•°ï¼Œå‰ç¼€ä¸º0o
- åå…­è¿›åˆ¶æ•°ï¼Œå‰ç¼€ä¸º0x

ä»¥ä¸‹è¿™äº›æ•´æ•°å­—é¢é‡çš„åè¿›åˆ¶å€¼å‡ä¸º`17`ï¼š

```swift
let decimalInteger = 17
let binaryInteger = 0b10001
let octalInteger = 0o21
let hexadecimalInteger = 0x11
```

### 

æµ®ç‚¹æ•°å­—é¢é‡å¯ä»¥æ˜¯åè¿›åˆ¶ï¼ˆæ²¡æœ‰å‰ç¼€ï¼‰æˆ–è€…åå…­è¿›åˆ¶ï¼ˆå‰ç¼€ä¸º0xï¼‰ã€‚åè¿›åˆ¶æµ®ç‚¹æ•°å¯ä»¥æœ‰ä¸€ä¸ª**å¯é€‰çš„æŒ‡æ•°**ï¼Œç”±å¤§å†™æˆ–å°å†™ **e** è¡¨ç¤ºã€‚åå…­è¿›åˆ¶æµ®ç‚¹æ•°**å¿…é¡»æœ‰ä¸€ä¸ªæŒ‡æ•°**ï¼Œç”±å¤§å°æˆ–å°å†™ **p** è¡¨ç¤ºã€‚

ä»¥ä¸‹æ‰€æœ‰æµ®ç‚¹æ•°å­—é¢é‡çš„åè¿›åˆ¶å€¼ä¸º`12.1875`ï¼š

```swift
let decimalDouble = 12.1875
// ä¹˜ä»¥10
let exponentDouble1 = 1.21875e1
// ä¹˜ä»¥-10
let exponentDouble2 = 121.875e-1
let hexadecimalDouble = 0xC.3p0
```



æ•°å­—å­—é¢é‡è¿˜å¯ä»¥åŒ…å«é¢å¤–çš„æ ¼å¼ï¼Œä½¿å…¶æ›´å®¹æ˜“é˜…è¯»ã€‚æ•´æ•°å’Œæµ®ç‚¹æ•°éƒ½å¯ä»¥ä½¿ç”¨**é¢å¤–çš„é›¶**å¡«å……ï¼Œå¹¶å¯ä»¥åŒ…å«**ä¸‹åˆ’çº¿**æ¥æå‡å¯è¯»æ€§ï¼Œè¿™æ ·åšå¹¶ä¸ä¼šæ”¹å˜å­—é¢é‡çš„å€¼ã€‚

```swift
let paddedDouble = 000123.456
let oneMillion = 1_000_000
let justOverOneMillion = 1_000_000.000_000_1
```



## æ•°å­—ç±»å‹è½¬æ¢

å¯¹äºä»£ç ä¸­çš„æ‰€æœ‰é€šç”¨æ•´æ•°å¸¸é‡å’Œå˜é‡ï¼Œéƒ½åº”ä½¿ç”¨ Swift é»˜è®¤çš„æ•´æ•°ç±»å‹`Int`ï¼Œå³ä½¿å®ƒä»¬çš„å€¼å·²çŸ¥ä¸ºè´Ÿæ•°ã€‚ä½¿ç”¨é»˜è®¤çš„æ•´æ•°ç±»å‹æ„å‘³ç€æ•´æ•°å¸¸é‡å’Œæ•´æ•°å˜é‡åœ¨ä»£ç ä¸­å¯ä»¥ç«‹å³äº’æ“ä½œï¼Œå¹¶èƒ½åŒ¹é…æ•´æ•°å­—é¢é‡çš„æ¨æ–­ç±»å‹ã€‚



åªæœ‰å½“å½“å‰ä»»åŠ¡æŒ‡å®šéœ€è¦å…¶ä»–æ•´æ•°ç±»å‹æ—¶ï¼Œä¾‹å¦‚ï¼šæ•´æ•°æ˜¯æ¥è‡ªå¤–éƒ¨æ¥æºçš„æ˜¾å¼å¤§å°æ•°æ®ï¼Œæ•´æ•°æ˜¯ç”¨äºæ€§èƒ½ã€å†…å­˜ä½¿ç”¨æˆ–å…¶ä»–å¿…è¦çš„ä¼˜åŒ–çš„ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ˜¾å¼å¤§å°çš„ç±»å‹æœ‰åŠ©äºæ•è·ä»»ä½•æ„å¤–å€¼æº¢å‡ºï¼Œå¹¶éšå¼è®°å½•ä½¿ç”¨æ•°æ®çš„æ€§è´¨ã€‚



### æ•´æ•°è½¬æ¢

æ¯ä¸ªæ•°å­—ç±»å‹å¯ä»¥å­˜å‚¨çš„æ•°å­—èŒƒå›´æ˜¯ä¸åŒçš„ã€‚`Int8`ç±»å‹å¯ä»¥å­˜å‚¨çš„æ•°å­—åœ¨`-128`åˆ°`127`ä¹‹é—´ï¼Œè€Œ`UInt8`ç±»å‹å¯ä»¥å­˜å‚¨çš„æ•°å­—åœ¨`0`åˆ°`255`ä¹‹é—´ã€‚**åœ¨ç¼–è¯‘ä»£ç æ—¶ï¼Œå¦‚æœå­˜å‚¨å€¼è¶…å‡ºäº†æ•°å­—ç±»å‹å¯ä»¥å­˜å‚¨çš„æ•°å­—èŒƒå›´ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚**



**å°†ä¸€ç§æ•°å­—ç±»å‹çš„å€¼èµ‹å€¼ç»™å¦ä¸€ç§æ•°å­—ç±»å‹çš„å¸¸é‡æˆ–å˜é‡æ—¶ï¼Œå¿…é¡»å…ˆä½¿ç”¨ç°æœ‰å€¼åˆå§‹åŒ–ä¸€ä¸ªæ‰€éœ€æ•°å­—ç±»å‹çš„æ–°å€¼ï¼Œç„¶åå†å°†è¿™ä¸ªæ–°å€¼èµ‹å€¼ç»™è¿™ä¸ªå¸¸é‡æˆ–å˜é‡ã€‚å¦åˆ™ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚**



`SomeType(value)`æ–¹æ³•ï¼ˆ SomeType æ˜¯ç±»åç§°ï¼Œvalue æ˜¯ç°æœ‰å€¼ï¼‰æ˜¯è°ƒç”¨ Swift ç±»å‹çš„åˆå§‹åŒ–ç¨‹åºå¹¶ä¼ é€’åˆå§‹å€¼çš„é»˜è®¤æ–¹æ³•ã€‚

```swift
let twoThousand: UInt16 = 2_000
let one: UInt8 = 1
let twoThousandAndOne = twoThousand + UInt16(one)
```



### æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢

æ•´æ•°ç±»å‹å’Œæµ®ç‚¹æ•°ç±»å‹ä¹‹é—´çš„è½¬æ¢**å¿…é¡»æ˜ç¡®**ï¼š

```swift
let three = 3
let pointOneFourOneFiveNine = 0.14159
let pi = Double(three) + pointOneFourOneFiveNine
```



å°†æµ®ç‚¹æ•°è½¬æ¢ä¸ºæ•´æ•°æ—¶ï¼Œæµ®ç‚¹æ•°çš„å€¼ä¼šè¢«æˆªæ–­ï¼Œä¹Ÿå°±æ˜¯è¯´`4.75`å˜æˆäº†`4`ï¼Œ`-3.9`å˜æˆäº†`-3`ã€‚



ç»„åˆæ•°å­—ç±»å‹å¸¸é‡å’Œæ•°å­—ç±»å‹å˜é‡çš„è§„åˆ™ä¸ç»„åˆæ•°å­—å­—é¢é‡çš„è§„åˆ™æ˜¯ä¸ä¸€æ ·çš„ã€‚å­—é¢é‡å€¼`3`å¯ä»¥ç›´æ¥ä¸å­—é¢é‡å€¼`0.14159`ç›¸åŠ ï¼Œå› ä¸ºå­—é¢é‡å€¼çš„ç±»å‹æ˜¯åœ¨ç¼–è¯‘æ—¶æ¨æ–­å‡ºæ¥çš„ã€‚

```swift
// å¯ä»¥ç›´æ¥ç»„åˆæ•°å­—å­—é¢é‡
let a = 3 + 0.14159

// ä½†æ˜¯ä¸èƒ½ç›´æ¥ç»„åˆæ•°å­—ç±»å‹å¸¸é‡å’Œæ•°å­—ç±»å‹å˜é‡,å¿…é¡»å…ˆè¿›è¡Œè½¬æ¢
let a = 3
let b = Double(a) + 0.14159
```



## ç±»å‹åˆ«å

ç±»å‹åˆ«åæ˜¯ä¸ºç°æœ‰ç±»å‹å®šä¹‰çš„å¤‡ç”¨åç§°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`typealias`å…³é”®å­—å®šä¹‰ç±»å‹åˆ«åã€‚



å½“æˆ‘ä»¬æƒ³é€šè¿‡ä¸Šä¸‹æ–‡æ›´åˆé€‚çš„åç§°æ¥å¼•ç”¨ç°æœ‰ç±»å‹æ—¶ï¼Œä¾‹å¦‚åœ¨å¤„ç†æ¥è‡ªå¤–éƒ¨æºçš„ç‰¹å®šå¤§å°çš„æ•°æ®æ—¶ï¼Œç±»å‹åˆ«åéå¸¸æœ‰ç”¨ã€‚



```swift
typealias AudioSample = UInt16

var maxAmplitudeFound = AudioSample.min
```

å¯¹`AudioSample.min`çš„è°ƒç”¨å®é™…ä¸Šè°ƒç”¨çš„æ˜¯`UInt16.min`ã€‚



## Boolean

Swift æä¾›äº†ä¸€ä¸ªåŸºç¡€çš„å¸ƒå°”ç±»å‹`Boolean`ï¼Œ`Boolean`å¸¸é‡æˆ–å˜é‡çš„å€¼åªèƒ½ä¸º`true`æˆ–è€…`false`ã€‚

```swift
let orangesAreOrange = true
let turnipsAreDelicious = false

if (orangesAreOrange)
{
	print("YES!")
}
```

## å…ƒç»„

å…ƒç»„æ˜¯ç”±å¤šä¸ªå€¼ç»„æˆçš„ä¸€ä¸ªå¤åˆå€¼ï¼Œå…ƒç»„ä¸­çš„æ¯ä¸ªå€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ã€‚ä»¥ä¸‹ä»£ç ä¸­çš„`(404, "Not Found")`å…ƒç»„ç”±ä¸€ä¸ª`Int`ç±»å‹çš„å€¼å’Œä¸€ä¸ª`String`ç±»å‹çš„å€¼ç»„æˆï¼š

```swift
let http404Error = (404, "Not Found")
```

æˆ‘ä»¬å¯ä»¥å°†å…ƒç»„ä¸­çš„å€¼åˆ†è§£ä¸ºå•ç‹¬çš„å¸¸é‡æˆ–è€…å˜é‡ï¼Œç„¶ååƒå¾€å¸¸ä¸€æ ·è®¿é—®å®ƒä»¬ï¼š

```swift
let (statusCode, statusMessage) = http404Error
print("The status code is \(statusCode)")
// Prints "The status code is 404"
print("The status message is \(statusMessage)")
// Prints "The status message is Not Found"
```

å¦‚æœæˆ‘ä»¬åªéœ€è¦å…ƒç»„ä¸­çš„éƒ¨åˆ†å€¼ï¼Œåˆ™åœ¨åˆ†è§£å…ƒç»„æ—¶ä½¿ç”¨ä¸‹åˆ’çº¿`_`æ¥å¿½ç•¥å…ƒç»„ä¸­å…¶ä»–ä¸éœ€è¦çš„å€¼ï¼š

```swift
let (justTheStatusCode, _) = http404Error
print("The status code is \(justTheStatusCode)")
// Prints "The status code is 404"
```

æˆ–è€…ï¼Œä½¿ç”¨ä»`0`å¼€å§‹çš„ç´¢å¼•å»è®¿é—®å…ƒç»„ä¸­çš„å•ä¸ªå…ƒç´ å€¼ï¼š

```swift
print("The status code is \(http404Error.0)")
// Prints "The status code is 404"
print("The status message is \(http404Error.1)")
// Prints "The status message is Not Found"
```

åœ¨å®šä¹‰ä¸€ä¸ªå…ƒç»„æ—¶ï¼Œè¿˜å¯ä»¥ä¸ºå…ƒç»„ä¸­çš„å…ƒç»„å‘½åï¼š

```swift
let http200Status = (statusCode: 200, description: "OK")
```

å¦‚æœæœ‰ä¸ºå…ƒç»„ä¸­çš„å…ƒç´ å‘½åï¼Œåˆ™å¯ä»¥ä½¿ç”¨å…ƒç´ åç§°æ¥è®¿é—®å…ƒç»„ä¸­çš„å…ƒç´ å€¼ï¼š

```swift
print("The status code is \(http200Status.statusCode)")
// Prints "The status code is 200"
print("The status message is \(http200Status.description)")
// Prints "The status message is OK"
```



å½“å‡½æ•°æœ‰å¤šä¸ªè¿”å›å€¼æ—¶ï¼Œä½¿ç”¨å…ƒç»„ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚



å…ƒç»„å¯¹äºç®€å•çš„ç›¸å…³å€¼çš„ç»„åˆæ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œä½†å…¶ä¸é€‚åˆåˆ›å»ºå¤æ‚çš„æ•°æ®ç»“æ„ã€‚å¦‚æœæ•°æ®ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œåº”è¯¥ä¸ºå…¶æ„å»ºç±»æˆ–è€…ç»“æ„ä½“ï¼Œå‚çœ‹[ç»“æ„ä½“å’Œç±»]()ã€‚



## å¯é€‰

**å¯é€‰è¡¨ç¤ºå˜é‡æˆ–å¸¸é‡çš„å€¼æœ‰ä¸¤ç§å¯èƒ½æ€§ï¼šè¦ä¹ˆæœ‰ä¸€ä¸ªå€¼ï¼Œè¦ä¹ˆä¸ºç©ºã€‚**



ç”±äº Swift æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œå®šä¹‰ä¸€ä¸ªå˜é‡æˆ–å¸¸é‡åï¼Œåœ¨ç¼–è¯‘ä»£ç æ—¶ä¼šç¡®å®šå˜é‡æˆ–å¸¸é‡çš„ç±»å‹ã€‚ä¹‹åï¼Œå¦‚æœå°†ç±»å‹ä¸åŒ¹é…çš„å€¼èµ‹å€¼ç»™è¿™ä¸ªå˜é‡æˆ–å¸¸é‡ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚ä¸ºäº†è§£å†³å˜é‡æˆ–å¸¸é‡çš„å€¼å¯èƒ½ä¸å­˜åœ¨ï¼ˆä¸ºç©ºï¼‰çš„æƒ…å†µï¼ŒSwift æä¾›äº†å¯é€‰ç±»å‹ã€‚ç±»å‹åé¢åŠ ä¸Š`?`ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸ªå¯é€‰ç±»å‹ï¼Œä¾‹å¦‚ï¼Œ`Int?`è¡¨ç¤ºå¯é€‰çš„`Int`ç±»å‹ã€‚



> æ³¨æ„ï¼šå¯é€‰çš„`Int`ç±»å‹è¡¨ç¤ºå®ƒçš„å€¼å¯èƒ½ä¸ºä¸€ä¸ª`Int`å€¼ï¼Œæˆ–è€…å¯èƒ½ä¸ºç©ºï¼ˆä¸å­˜åœ¨ä»»ä½•å€¼ï¼‰ã€‚ä½†æ˜¯ï¼Œå®ƒçš„å€¼ä¸å¯èƒ½æ˜¯ä»»ä½•å…¶ä»–ç±»å‹çš„å€¼ã€‚



### nil

å°†ç‰¹æ®Šå€¼`nil`åˆ†é…ç»™ä¸€ä¸ªå¯é€‰å˜é‡ï¼Œå¯ä»¥å°†è¿™ä¸ªå¯é€‰å˜é‡è®¾ç½®ä¸ºæ— å€¼çŠ¶æ€ï¼š

```swift
var serverResponseCode: Int? = 404
// serverResponseCode contains an actual Int value of 404
serverResponseCode = nil
// serverResponseCode now contains no value
```

å¦‚æœæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå¯é€‰å˜é‡ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸ºå…¶æä¾›åˆå§‹å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯é€‰å˜é‡ä¼šè¢«è‡ªåŠ¨è®¾ç½®ä¸º`nil`ï¼š

```swift
var surveyAnswer: String?
// surveyAnswer is automatically set to nil
```



**Swift ä¸­çš„`nil`ä¸ Objective-C ä¸­çš„`nil`æ˜¯æœ‰åŒºåˆ«çš„ã€‚Objective-C ä¸­çš„`nil`æ˜¯ä¸€ä¸ªæŒ‡å‘ç©ºå€¼å¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œ Swift ä¸­çš„`nil`ä¸æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œè€Œæ˜¯ä¸€ä¸ªç¼ºå°‘æŸç§ç±»å‹çš„å€¼ã€‚å¯ä»¥å°†ä»»ä½•ç±»å‹çš„å¯é€‰å€¼è®¾ç½®ä¸º`nil`ï¼Œè€Œä¸ä»…ä»…æ˜¯å¯¹è±¡ç±»å‹ã€‚**



### if è¯­å¥å’Œå¼ºåˆ¶å±•å¼€å¯é€‰å€¼

å¯ä»¥é€šè¿‡ä½¿ç”¨`==`æˆ–`!=`æ“ä½œç¬¦å°†å¯é€‰å˜é‡æˆ–å¸¸é‡çš„å€¼ä¸`nil`è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶ä½¿ç”¨`if`è¯­å¥æ¥åˆ¤æ–­å‡ºå¯é€‰å€¼æ˜¯å¦åŒ…å«å€¼ã€‚

```swift
if convertedNumber != nil {
    print("convertedNumber contains some integer value.")
}
// Prints "convertedNumber contains some integer value."
```

ä¸€æ—¦ç¡®å®šå¯é€‰å€¼ç¡®å®å­˜åœ¨ä¸€ä¸ªå€¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡åœ¨å¯é€‰å€¼åç§°åé¢åŠ ä¸Šæ„Ÿå¹å·`!`æ¥è®¿é—®è¿™ä¸ªå€¼ï¼Œè¿™è¢«ç§°ä¸ºå¼ºåˆ¶å±•å¼€å¯é€‰å€¼ã€‚

```swift
if convertedNumber != nil {
    print("convertedNumber has an integer value of \(convertedNumber!).")
}
// Prints "convertedNumber has an integer value of 123."
```



> å¦‚æœå¯é€‰å€¼ä¸åŒ…å«é`nil`å€¼ï¼Œä½¿ç”¨`!`å¼ºåˆ¶å±•å¼€å¯é€‰å€¼æ—¶ï¼Œä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚



### å¯é€‰ç»‘å®š

å¯ä»¥ä½¿ç”¨å¯é€‰ç»‘å®šæ¥ç¡®å®šå¯é€‰å€¼æ˜¯å¦å­˜åœ¨éç©ºå€¼ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼šå°†è¿™ä¸ªå€¼ç”¨ä½œä¸´æ—¶å¸¸é‡æˆ–å˜é‡ã€‚å¯é€‰ç»‘å®šå¯ä»¥ä¸`if`å’Œ`while`è¯­å¥ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ä¾¿æ£€æŸ¥å¯é€‰å˜é‡æˆ–å¸¸é‡çš„å€¼ï¼Œå¹¶å°†è¯¥å€¼æå–åˆ°å…¶ä»–å¸¸é‡æˆ–å˜é‡ä¸­ã€‚

```swift
if let actualNumber = Int(possibleNumber) {
    print("The string \"\(possibleNumber)\" has an integer value of \(actualNumber)")
} else {
    print("The string \"\(possibleNumber)\" couldn't be converted to an integer")
}
// Prints "The string "123" has an integer value of 123"
```



å¯ä»¥æ ¹æ®éœ€è¦åœ¨å•ä¸ª`if`è¯­å¥ä¸­åŒ…å«å°½å¯èƒ½å¤šçš„å¯é€‰ç»‘å®šå’Œå¸ƒå°”æ¡ä»¶ï¼Œå¹¶ç”¨é€—å·åˆ†å‰²ã€‚å¦‚æœæŸä¸ªå¯é€‰ç»‘å®šä¸­çš„å€¼ä¸º`nil`æˆ–è€…å¸ƒå°”æ¡ä»¶ä¸º`false`ï¼Œåˆ™æ•´ä¸ª`if`è¯­å¥çš„æ¡ä»¶è§†ä¸º`false`ã€‚ä»¥ä¸‹`if`è¯­å¥æ˜¯ç­‰æ•ˆçš„ï¼š

```swift
if let firstNumber = Int("4"), let secondNumber = Int("42"), firstNumber < secondNumber && secondNumber < 100 {
    print("\(firstNumber) < \(secondNumber) < 100")
}
// Prints "4 < 42 < 100"

if let firstNumber = Int("4") {
    if let secondNumber = Int("42") {
        if firstNumber < secondNumber && secondNumber < 100 {
            print("\(firstNumber) < \(secondNumber) < 100")
        }
    }
}
// Prints "4 < 42 < 100"
```



> åœ¨`if`è¯­å¥ä¸­ä½¿ç”¨å¯é€‰ç»‘å®šåˆ›å»ºçš„å¸¸é‡æˆ–å˜é‡åªèƒ½åœ¨`if`è¯­å¥çš„ä¸»ä½“å†…å¯ç”¨ã€‚



### éšå¼å±•å¼€å¯é€‰å€¼

æœ‰æ—¶ï¼Œä»ç¨‹åºçš„ç»“æ„å¯ä»¥æ˜æ˜¾çœ‹å‡ºé¦–æ¬¡ç»™å¯é€‰å˜é‡è®¾ç½®å€¼ä¹‹åï¼Œå¯é€‰å˜é‡å°†å§‹ç»ˆå…·æœ‰è¯¥å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¶ˆé™¤æ¯æ¬¡è®¿é—®å¯é€‰å€¼æ—¶æ£€æŸ¥å¯é€‰å€¼æ˜¯å¦å­˜åœ¨å€¼å’Œå¼ºåˆ¶å±•å¼€å¯é€‰å€¼çš„éœ€è¦éå¸¸æœ‰ç”¨ã€‚



åœ¨å£°æ˜å¸¸é‡æˆ–å˜é‡æ—¶ï¼Œåœ¨ç±»å‹ä¹‹åæ·»åŠ æ„Ÿå¹å·ï¼ˆ`String!`ï¼‰è€Œä¸æ˜¯é—®å·ï¼ˆ`String?`ï¼‰å¯ä»¥å°†å¯é€‰å€¼å®šä¹‰ä¸ºéšå¼å±•å¼€çš„å¯é€‰å€¼ï¼š

```swift
let possibleString: String? = "An optional string."
let forcedString: String = possibleString! // requires an exclamation point

let assumedString: String! = "An implicitly unwrapped optional string."
let implicitString: String = assumedString // no need for an exclamation point
```



å½“å¯é€‰å€¼åœ¨é¦–æ¬¡å®šä¹‰å¹¶ä¸”ç¡®è®¤å­˜åœ¨å€¼åï¼Œéšå¼å±•å¼€å¯é€‰å€¼éå¸¸æœ‰ç”¨ã€‚Swift ä¸­çš„éšå¼å±•å¼€å¯é€‰å€¼çš„ä¸»è¦ç”¨é€”æ˜¯åœ¨ç±»åˆå§‹åŒ–æœŸé—´ï¼Œå¯ä»¥å‚çœ‹ [unowned å¼•ç”¨å’Œéšå¼å±•å¼€çš„å¯é€‰å±æ€§]()ã€‚



å¦‚æœä¸€ä¸ªéšå¼å±•å¼€çš„å¯é€‰å€¼ä¸º`nil`ï¼Œå½“æˆ‘ä»¬å°è¯•è®¿é—®å¯é€‰å€¼æ—¶ï¼Œä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚



æˆ‘ä»¬å¯ä»¥åƒæ£€æŸ¥æ™®é€šå¯é€‰å€¼ä¸€æ ·æ£€æŸ¥éšå¼å±•å¼€çš„å¯é€‰å€¼æ˜¯å¦ä¸º`nil`ï¼š

```swift
if assumedString != nil {
    print(assumedString!)
}
// Prints "An implicitly unwrapped optional string."
```



è¿˜å¯ä»¥åœ¨å¯é€‰ç»‘å®šä¸­ä½¿ç”¨éšå¼å±•å¼€çš„å¯é€‰å€¼ï¼š

```swift
if let definiteString = assumedString {
    print(definiteString)
}
// Prints "An implicitly unwrapped optional string."
```



> å¦‚æœå˜é‡ç¨åå¯èƒ½è¢«è®¾ç½®ä¸º`nil`ï¼Œè¯·ä¸è¦ä½¿ç”¨éšå¼å±•å¼€çš„å¯é€‰ç±»å‹ã€‚å¦‚æœéœ€è¦åœ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸå†…æ£€æŸ¥`nil`å€¼ï¼Œè¯·å§‹ç»ˆä½¿ç”¨æ™®é€šçš„çš„å¯é€‰ç±»å‹ã€‚



## é”™è¯¯å¤„ç†

å¯ä»¥ä½¿ç”¨é”™è¯¯å¤„ç†æ¥å“åº”ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°çš„é”™è¯¯æ¡ä»¶ã€‚



å¯é€‰ç±»å‹å¯ä»¥ä½¿ç”¨å€¼çš„å­˜åœ¨æˆ–ä¸å­˜åœ¨æ¥ä¼ è¾¾å‡½æ•°çš„æˆåŠŸæˆ–å¤±è´¥ã€‚ä¸å¯é€‰ç±»å‹ç›¸åï¼Œé”™è¯¯å¤„ç†å…è®¸æˆ‘ä»¬ç¡®å®šå¤±è´¥çš„æ ¹æœ¬åŸå› ï¼Œå¹¶åœ¨å¿…è¦æ—¶å°†é”™è¯¯ä¼ è¾¾ç»™ç¨‹åºçš„å¦ä¸€éƒ¨åˆ†ã€‚



å½“å‡½æ•°é‡åˆ°é”™è¯¯æ¡ä»¶æ—¶ï¼Œå®ƒä¼šæŠ›å‡ºé”™è¯¯ã€‚ç„¶åè¯¥å‡½æ•°çš„è°ƒç”¨è€…å¯ä»¥æ•è·é”™è¯¯å¹¶åšå‡ºé€‚å½“å“åº”ã€‚

```swift
func canThrowAnError() throws {
    // this function may or may not throw an error
}
```



ä¸€ä¸ªå‡½æ•°é€šè¿‡åœ¨å£°æ˜ä¸­ä½¿ç”¨`throws`å…³é”®å­—æ¥è¡¨æ˜å®ƒå¯ä»¥å¼•å‘é”™è¯¯ã€‚è°ƒç”¨å¯èƒ½å¼•å‘é”™è¯¯çš„å‡½æ•°æ—¶ï¼Œè¯·å°†`try`å…³é”®å­—æ”¾åœ¨è°ƒç”¨è¡¨è¾¾å¼çš„å‰é¢ã€‚

```swift
do {
    try canThrowAnError()
    // no error was thrown
} catch {
    // an error was thrown
}
```



ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨é”™è¯¯å¤„ç†æ¥å“åº”ä¸åŒé”™è¯¯æ¡ä»¶çš„ç¤ºä¾‹ï¼š

```swift
func makeASandwich() throws {
    // ...
}

do {
    try makeASandwich()
    eatASandwich()
} catch SandwichError.outOfCleanDishes {
    washDishes()
} catch SandwichError.missingIngredients(let ingredients) {
    buyGroceries(ingredients)
}
```

å¦‚æœè°ƒç”¨`makeASandwich()`å‡½æ•°æ²¡æœ‰å¼•å‘é”™è¯¯ï¼Œåˆ™ä¼šæ‰§è¡Œ`eatASandwich()`å‡½æ•°ï¼›å¦åˆ™ï¼Œå°†ä¼šæ‰§è¡Œ`catch`è¯­å¥ã€‚



## æ–­è¨€å’Œå…ˆå†³æ¡ä»¶

æ–­è¨€å’Œå…ˆå†³æ¡ä»¶æ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œçš„æ£€æŸ¥ã€‚å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥ç¡®ä¿åœ¨æ»¡è¶³åŸºæœ¬æ¡ä»¶ä¹‹åï¼Œæ‰æ‰§è¡Œä»»ä½•å…¶ä»–ä»£ç ã€‚å¦‚æœæ–­è¨€æˆ–å…ˆå†³æ¡ä»¶ä¸­çš„å¸ƒå°”æ¡ä»¶è¢«åˆ¤å®šä¸º`true`ï¼Œåˆ™ä¼šç»§ç»­æ‰§è¡Œåç»­çš„å…¶ä»–ä»£ç ï¼›å¦‚æœå¸ƒå°”æ¡ä»¶è¢«åˆ¤å®šä¸º`false`ï¼Œåˆ™ä»£ç æ‰§è¡Œç»“æŸå¹¶ä¸”ä¼šç»ˆæ­¢è¿è¡Œåº”ç”¨ç¨‹åºã€‚



æ–­è¨€å’Œå…ˆå†³æ¡ä»¶å¯ä»¥è¡¨è¾¾æˆ‘ä»¬åœ¨ç¼–ç æ—¶æ‰€åšçš„å‡è®¾å’ŒæœŸæœ›ã€‚æ–­è¨€å¸®åŠ©æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‘ç°é”™è¯¯å’Œé”™è¯¯çš„å‡è®¾ï¼Œå…ˆå†³æ¡ä»¶å¯ä»¥å¸®åŠ©æˆ‘ä»¬å‘ç°åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹çš„é—®é¢˜ã€‚



é™¤äº†åœ¨è¿è¡Œæ—¶éªŒè¯æˆ‘ä»¬çš„æœŸæœ›å¤–ï¼Œæ–­è¨€å’Œå…ˆå†³æ¡ä»¶ä¹Ÿå¯ä»¥æˆä¸ºä»£ç ä¸­æœ‰ç”¨çš„æ–‡æ¡£å½¢å¼ã€‚ä¸ä¹‹å‰åœ¨[é”™è¯¯å¤„ç†]()ç« èŠ‚ä¸­è®¨è®ºçš„é”™è¯¯æ¡ä»¶ä¸åŒï¼Œæ–­è¨€å’Œå…ˆå†³æ¡ä»¶å¹¶ä¸æ˜¯ç”¨äºå¯æ¢å¤æˆ–é¢„æœŸçš„é”™è¯¯çš„ã€‚å› ä¸ºå¤±è´¥çš„æ–­è¨€æˆ–å…ˆå†³æ¡ä»¶è¡¨æ˜ç¨‹åºå¤„äºæ— æ•ˆçŠ¶æ€ï¼Œè¿™æ—¶æ˜¯æ— æ³•æ•è·å¤±è´¥çš„æ–­è¨€çš„ã€‚



ä½¿ç”¨æ–­è¨€å’Œå…ˆå†³æ¡ä»¶å¹¶ä¸èƒ½æ›¿ä»£ä»¥ä¸å¤ªå¯èƒ½å‡ºç°æ— æ•ˆæ¡ä»¶çš„æ–¹å¼è®¾è®¡ä»£ç ã€‚ç„¶è€Œï¼Œä½¿ç”¨å®ƒä»¬æ¥å¼ºåˆ¶æ‰§è¡Œæœ‰æ•ˆçš„æ•°æ®å’ŒçŠ¶æ€ï¼Œå¯ä»¥è®©åº”ç”¨ç¨‹åºå¤„äºæ— æ•ˆçŠ¶æ€æ—¶æ›´å¯é¢„æµ‹åœ°ç»ˆæ­¢ã€‚ä¸€æ—¦æ£€æµ‹åˆ°æ— æ•ˆçŠ¶æ€ï¼Œç«‹å³åœæ­¢æ‰§è¡Œåç»­ä»£ç ä¹Ÿæœ‰åŠ©äºé™åˆ¶è¯¥æ— æ•ˆçŠ¶æ€é€ æˆçš„æŸå®³ã€‚



æ–­è¨€å’Œå…ˆè§‰æ¡ä»¶ä¹‹é—´çš„åŒºåˆ«åœ¨äºï¼šæ–­è¨€ä»…åœ¨**è°ƒè¯•ç¯å¢ƒ**ä¸­æ£€æŸ¥ï¼Œè€Œå…ˆå†³æ¡ä»¶åœ¨**è°ƒè¯•å’Œç”Ÿäº§ç¯å¢ƒ**ä¸­éƒ½ä¼šæ£€æŸ¥ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä¸ä¼šåˆ¤å®šæ–­è¨€ä¸­çš„æ¡ä»¶ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨ä»»æ„å¤šçš„æ–­è¨€ï¼Œè€Œä¸ä¼šå½±å“ç”Ÿäº§ç¯å¢ƒä¸‹çš„ç¨‹åºæ€§èƒ½ã€‚



### ä½¿ç”¨æ–­è¨€è°ƒè¯•

é€šè¿‡è°ƒç”¨ç”± Swift æ ‡å‡†åº“æä¾›çš„`assert(_:_:file:line:)`å‡½æ•°æ¥å†™ä¸€ä¸ªæ–­è¨€ï¼Œæˆ‘ä»¬éœ€è¦å‘è¯¥å‡½æ•°ä¼ é€’ä¸€ä¸ªç”¨äºè®¡ç®—ç»“æœä¸º`true`æˆ–`false`çš„è¡¨è¾¾å¼ï¼Œå’Œä¸€ä¸ªå½“è¡¨è¾¾å¼ç»“æœä¸º`false`æ—¶æ˜¾ç¤ºçš„ messageã€‚ä¾‹å¦‚ï¼š

```swift
let age = -3
assert(age >= 0, "A person's age can't be less than zero.")
// This assertion fails because -3 isn't >= 0.
```

å¦‚æœæˆ‘ä»¬çš„ä»£ç å·²ç»æ£€æŸ¥äº†æ¡ä»¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`assertionFailure(_:file:line:)`å‡½æ•°æ¥è¡¨æ˜æ–­è¨€å¤±è´¥ï¼š

```swift
if age > 10 {
    print("You can ride the roller-coaster or the ferris wheel.")
} else if age >= 0 {
    print("You can ride the ferris wheel.")
} else {
    assertionFailure("A person's age can't be less than zero.")
}
```



### æ‰§è¡Œå…ˆå†³æ¡ä»¶

åªè¦æ¡ä»¶æœ‰å¯èƒ½ä¸º`false`ï¼Œä½†æ¡ä»¶åˆå¿…é¡»ä¸ºçœŸï¼Œä»¥ä¾¿ä»£ç ç»§ç»­æ‰§è¡Œæ—¶ï¼Œè¯·ä½¿ç”¨å…ˆå†³æ¡ä»¶ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨å…ˆå†³æ¡ä»¶æ£€æŸ¥æ•°ç»„ä¸‹æ ‡æ˜¯å¦è¶Šç•Œï¼Œæˆ–æ£€æŸ¥å‡½æ•°æ˜¯å¦å·²ä¼ é€’æœ‰æ•ˆå€¼ã€‚



é€šè¿‡è°ƒç”¨`precondition(_:_:file:line:)`å‡½æ•°æ¥å†™ä¸€ä¸ªå…ˆå†³æ¡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å‘è¯¥å‡½æ•°ä¼ é€’ä¸€ä¸ªç”¨äºè®¡ç®—ç»“æœä¸º`true`æˆ–`false`çš„è¡¨è¾¾å¼ï¼Œå’Œä¸€ä¸ªå½“è¡¨è¾¾å¼ç»“æœä¸º`false`æ—¶æ˜¾ç¤ºçš„ messageã€‚ä¾‹å¦‚ï¼š

```swift
// In the implementation of a subscript...
precondition(index > 0, "Index must be greater than zero.")
```

å¦‚æœæˆ‘ä»¬çš„ä»£ç å·²ç»æ£€æŸ¥äº†æ¡ä»¶ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`preconditionFailure(_:file:line:)`å‡½æ•°æ¥è¡¨æ˜å‘ç”Ÿäº†å‘ç”Ÿäº†æ•…éšœã€‚



> å¦‚æœæˆ‘ä»¬ä»¥æœªæ£€æŸ¥ï¼ˆ-0uncheckedï¼‰æ¨¡å¼ç¼–è¯‘ï¼Œåˆ™å…ˆå†³æ¡ä»¶ä¸ä¼šè¢«æ£€æŸ¥ã€‚ç¼–è¯‘å™¨ä¼šå‡å®šå…ˆå†³æ¡ä»¶å§‹ç»ˆä¸º`true`ï¼Œå¹¶ä¼šç›¸åº”åœ°ä¼˜åŒ–æˆ‘ä»¬çš„ä»£ç ã€‚ç„¶è€Œï¼Œæ— è®ºä¼˜åŒ–è®¾ç½®å¦‚ä½•ï¼Œ`fatalError(_:file:line:)`å‡½æ•°å§‹ç»ˆä¼šæš‚åœæ‰§è¡Œã€‚



> åœ¨åŸå‹å¼€å‘å’Œæ—©æœŸå¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨`fatalError(_:file:line:)`å‡½æ•°æ¥ä¸ºå°šæœªå®ç°çš„åŠŸèƒ½åˆ›å»ºå­˜æ ¹ã€‚é€šè¿‡ç¼–å†™`fatalError("Unimplemented")`ä»£ç æ¥ä½œä¸ºå­˜æ ¹å®ç°ã€‚ç”±äºè‡´å‘½é”™è¯¯æ°¸è¿œä¸ä¼šè¢«ä¼˜åŒ–ï¼Œè¿™ä¸æ–­è¨€æˆ–å…ˆå†³æ¡ä»¶ä¸åŒï¼Œå› æ­¤å¯ä»¥ç¡®ä¿åœ¨é‡åˆ°å­˜æ ¹å®ç°æ—¶æ€»æ˜¯åœæ­¢æ‰§è¡Œç¨‹åºã€‚



# åŸºæœ¬è¿ç®—ç¬¦



## èµ‹å€¼è¿ç®—ç¬¦

ä½¿ç”¨`=`è¿ç®—ç¬¦å°†å€¼èµ‹å€¼ç»™å¸¸é‡æˆ–å˜é‡ï¼š

```swift
let b = 10
var a = 5
a = b
// a is now equal to 10

let (x, y) = (1, 2)
// x is equal to 1, and y is equal to 2
```



## ç®—æœ¯è¿ç®—ç¬¦

Swift æ”¯æŒæ‰€æœ‰æ•°å­—ç±»å‹çš„å››ä¸ªæ ‡å‡†ç®—æœ¯è¿ç®—ç¬¦ï¼š

- åŠ ï¼š`+`

- å‡ï¼š`-`

- ä¹˜ï¼š`*`

- é™¤ï¼š`/`

```swift
1 + 2       // equals 3
5 - 3       // equals 2
2 * 3       // equals 6
10.0 / 2.5  // equals 4.0
```



ä¸ C å’Œ Objective-C ä¸­çš„ç®—æœ¯è¿ç®—ç¬¦ä¸åŒï¼ŒSwift ç®—æœ¯è¿ç®—ç¬¦é»˜è®¤æƒ…å†µä¸‹ä¸å…è®¸å€¼æº¢å‡ºã€‚å¯ä»¥ä½¿ç”¨ Swift çš„æº¢å‡ºè¿ç®—ç¬¦ï¼ˆä¾‹å¦‚`&+`ï¼‰æ¥å¯¹æº¢å‡ºè¡Œä¸ºè¿›è¡Œå¤„ç†ã€‚



`+`è¿ç®—ç¬¦è¿˜æ”¯æŒå­—ç¬¦ä¸²æ‹¼æ¥ï¼š

```swift
"hello, " + "world"  // equals "hello, world"
```



### å–ä½™è¿ç®—ç¬¦

ä½¿ç”¨`%`è¿ç®—ç¬¦æ¥è®¡ç®—æ•°å­— a é™¤ä»¥æ•°å­— b çš„ä½™æ•°ï¼š

```swift
9 % 4    // equals 1
-9 % 4   // equals -1
```



### ä¸€å…ƒè´Ÿæ•°è¿ç®—ç¬¦

å¯ä»¥ä½¿ç”¨`-`æ¥æ”¹å˜æ•°å­—çš„æ­£è´Ÿï¼š

```swift
let three = 3
let minusThree = -three       // minusThree equals -3
let plusThree = -minusThree   // plusThree equals 3, or "minus minus three"
```





### ä¸€å…ƒæ­£æ•°è¿ç®—ç¬¦

ä¸€å…ƒæ­£æ•°è¿ç®—ç¬¦ä»€ä¹ˆäº‹æƒ…ä¹Ÿä¸ä¼šåšï¼Œåªæ˜¯è¿”å›å®ƒæ“ä½œçš„å€¼ï¼š

```swift
let minusSix = -6
let alsoMinusSix = +minusSix  // alsoMinusSix equals -6
```



## å¤åˆèµ‹å€¼è¿ç®—ç¬¦

ä¸ C ä¸€æ ·ï¼ŒSwift ä¹Ÿæä¾›äº†å°†`=`è¿ç®—ç¬¦ä¸å¦ä¸€ä¸ªç®—æœ¯è¿ç®—ç¬¦ç›¸ç»“åˆçš„å¤åˆèµ‹å€¼è¿ç®—ç¬¦ã€‚

```swift
var a = 1
a += 2
// a is now equal to 3
```

è¡¨è¾¾å¼`a += 2`æ˜¯`a = a + 2`çš„ç®€å†™ã€‚



## æ¯”è¾ƒè¿ç®—ç¬¦

Swift æ”¯æŒä»¥ä¸‹æ¯”è¾ƒè¿ç®—ç¬¦ï¼š

- ç­‰äºï¼š`==`

- ä¸ç­‰äºï¼š`!=`

- å¤§äºï¼š`>`
- å°äºï¼š`<`
- å¤§äºç­‰äºï¼š`>=`
- å°äºç­‰äºï¼š`<=`

```swift
1 == 1   // true because 1 is equal to 1
2 != 1   // true because 2 isn't equal to 1
2 > 1    // true because 2 is greater than 1
1 < 2    // true because 1 is less than 2
1 >= 1   // true because 1 is greater than or equal to 1
2 <= 1   // false because 2 isn't less than or equal to 1
```



å¦‚æœä¸¤ä¸ªå…ƒç»„ç±»å‹ç›¸åŒï¼Œå€¼æ•°é‡ç›¸åŒï¼Œé‚£ä¹ˆå°±å¯ä»¥å¯¹å®ƒä»¬è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœä¸¤ä¸ªå…ƒç»„ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½ç›¸åŒï¼Œåˆ™è¿™ä¸¤ä¸ªå…ƒç»„æ˜¯ç›¸ç­‰çš„ï¼›å¦åˆ™ï¼Œä¸ç›¸ç­‰ã€‚ä¾‹å¦‚ï¼š

```swift
(1, "zebra") < (2, "apple")   // true because 1 is less than 2; "zebra" and "apple" aren't compared
(3, "apple") < (3, "bird")    // true because 3 is equal to 3, and "apple" is less than "bird"
(4, "dog") == (4, "dog")      // true because 4 is equal to 4, and "dog" is equal to "dog"
```



å¦å¤–ï¼Œ`>`ã€`<`ã€`>=`å’Œ`<=`è¿ç®—ç¬¦æ˜¯ä¸èƒ½åº”ç”¨äºå¸ƒå°”å€¼çš„ã€‚å¦åˆ™ï¼Œä¼šæŠ¥é”™ï¼š

```swift
("blue", -1) < ("purple", 1)        // OK, evaluates to true
("blue", false) < ("purple", true)  // Error because < can't compare Boolean values
```



> Swift æ ‡å‡†åº“æä¾›çš„æ¯”è¾ƒè¿ç®—ç¬¦åªèƒ½æ¯”è¾ƒåŒ…å«ä¸è¶…è¿‡ä¸ƒä¸ªå…ƒç´ çš„å…ƒç»„ã€‚è¦æ¯”è¾ƒåŒ…å«è¶…è¿‡ä¸ƒä¸ªæˆ–æ›´å¤šå…ƒç´ çš„å…ƒç»„ï¼Œæˆ‘ä»¬å¿…é¡»è‡ªå·±å®ç°æ¯”è¾ƒè¿ç®—ç¬¦ã€‚



## æ¡ä»¶è¿ç®—ç¬¦

ä¸ C å’Œ Objective-C ä¸€æ ·ï¼ŒSwift ä¹Ÿæä¾›æœ‰æ¡ä»¶è¿ç®—ç¬¦ï¼Œä¾‹å¦‚ï¼š`a > b ? value1 : value2`ï¼Œå¦‚æœ`a > b`çš„è¿ç®—ç»“æœä¸º`true`ï¼Œå°±ä¼šè¿”å›`value1`ï¼›å¦åˆ™ï¼Œä¼šè¿”å›`value2`ã€‚å®ƒç­‰åŒäºä»¥ä¸‹ä»£ç ï¼š

```swift
if a > b {
    value1
} else {
    value2
}
```



## Nil-Coalescing è¿ç®—ç¬¦

ä½¿ç”¨ nil-coalescing è¿ç®—ç¬¦`??`çš„è¡¨è¾¾å¼`a ?? b`ï¼Œå…¶å«ä¹‰æ˜¯ï¼šå¦‚æœå¯é€‰å€¼`a`åŒ…å«ä¸€ä¸ªå€¼ï¼Œåˆ™ä¼šå±•å¼€å¯é€‰å€¼`a`çš„å€¼å¹¶è¿”å›è¯¥å€¼ï¼›å¦‚æœå¯é€‰å€¼`a`ä¸º`nil`ï¼Œåˆ™ä¼šè¿”å›é»˜è®¤å€¼`b` ã€‚**è¿™é‡Œï¼Œ`b`çš„ç±»å‹å¿…é¡»ä¸`a`çš„ç±»å‹ç›¸åŒ¹é…ã€‚**`a ?? b`ç­‰åŒäºä»¥ä¸‹ä»£ç ï¼š

```swift
a != nil ? a! : b
```



## åŒºé—´è¿ç®—ç¬¦



### é—­åŒºé—´è¿ç®—ç¬¦

é—­åŒºé—´è¿ç®—ç¬¦`a...b`å®šä¹‰äº†ä»`a`åˆ°`b`çš„èŒƒå›´ï¼ŒåŒ…æ‹¬å€¼`a`å’Œ`b`ï¼Œ`a`ä¸å¾—å¤§äº`b`ã€‚ä½¿ç”¨ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```swift
for index in 1...5 {
    print("\(index) times 5 is \(index * 5)")
}
// 1 times 5 is 5
// 2 times 5 is 10
// 3 times 5 is 15
// 4 times 5 is 20
// 5 times 5 is 25
```



### åŠå¼€åŒºé—´è¿ç®—ç¬¦

åŠå¼€åŒºé—´è¿ç®—ç¬¦`a..<b`å®šä¹‰äº†ä»`a`åˆ°`b`çš„èŒƒå›´ï¼Œä½†ä¸åŒ…æ‹¬`b`ã€‚ä½¿ç”¨ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```swift
let names = ["Anna", "Alex", "Brian", "Jack"]
let count = names.count
for i in 0..<count {
    print("Person \(i + 1) is called \(names[i])")
}
// Person 1 is called Anna
// Person 2 is called Alex
// Person 3 is called Brian
// Person 4 is called Jack
```



### å•ä¾§åŒºé—´ï¼ˆä¸æ˜¯è¿ç®—ç¬¦ï¼ï¼ï¼ï¼‰

é—­åŒºé—´è¿ç®—ç¬¦è¿˜æœ‰ä¸€ä¸ªæ›¿ä»£å½¢å¼ â€”â€”ç”¨äºå°½å¯èƒ½å‘ä¸€ä¸ªæ–¹å‘ç»§ç»­çš„åŒºé—´ï¼Œä¾‹å¦‚ï¼šåŒºé—´åŒ…æ‹¬æ•°ç»„ä»ç´¢å¼•`2`åˆ°æ•°ç»„æœ«å°¾çš„æ‰€æœ‰å…ƒç´ ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥çœç•¥é—­åŒºé—´è¿ç®—ç¬¦ä¸€ä¾§çš„å€¼ï¼Œè¿™ç§åŒºé—´è¢«ç§°ä¸ºå•ä¾§åŒºé—´ï¼Œå› ä¸ºåªåœ¨è¿ç®—ç¬¦ä¸€ä¾§æœ‰å€¼ã€‚ä¾‹å¦‚ï¼š

```swift
for name in names[2...] {
    print(name)
}
// Brian
// Jack

for name in names[...2] {
    print(name)
}
// Anna
// Alex
// Brian

for name in names[..<2] {
    print(name)
}
// Anna
// Alex
```



å•ä¾§åŒºé—´è¿˜å¯ä»¥ç”¨äºå…¶ä»–ä¸Šä¸‹æ–‡ï¼Œè€Œä¸ä»…ä»…æ˜¯æ•°ç»„ä¸‹æ ‡ã€‚**ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨åªæœ‰ä¸€ä¾§æœ‰å€¼çš„å•ä¾§åŒºé—´å†…è¿­ä»£ï¼Œå› ä¸ºä¸æ¸…æ¥šè¿­ä»£åº”è¯¥ä»å“ªé‡Œå¼€å§‹ã€‚**ä¸Šé¢çš„ä»£ç å¯ä»¥è¿­ä»£æ˜¯å› ä¸ºæ•°ç»„çš„ä¸‹æ ‡æ˜¯ä»`0`å¼€å§‹çš„ã€‚æˆ‘ä»¬å¯ä»¥æ£€æŸ¥å•ä¾§åŒºé—´æ˜¯å¦åŒ…å«æŸä¸ªç‰¹å®šå€¼ï¼Œä¾‹å¦‚ï¼š

```swift
let range = ...5
range.contains(7)   // false
range.contains(4)   // true
range.contains(-1)  // true
```



## é€»è¾‘è¿ç®—ç¬¦

é€»è¾‘è¿ç®—ç¬¦ä¿®æ”¹æˆ–ç»„åˆ`Boolean`é€»è¾‘å€¼`true`å’Œ`false`ã€‚Swift æ”¯æŒ C è¯­è¨€ä¸­çš„ä¸‰ç§æ ‡å‡†é€»è¾‘è¿ç®—ç¬¦ï¼š

- é€»è¾‘éï¼š`!a`
- é€»è¾‘ä¸ï¼š`a && b`
- é€»è¾‘æˆ–ï¼š`a || b`



# å­—ç¬¦ä¸²å’Œå­—ç¬¦

Swift ä½¿ç”¨`String`ç±»å‹è¡¨å­—ç¬¦ä¸²ï¼Œä½¿ç”¨`Character`ç±»å‹æ¥è¡¨ç¤ºå•ä¸ªå­—ç¬¦ã€‚



## å­—ç¬¦ä¸²å­—é¢é‡

å­—ç¬¦ä¸²å­—é¢é‡æ˜¯è¢«åŒå¼•å·`"`åŒ…å›´çš„å­—ç¬¦åºåˆ—ï¼š

```swift
let someString:String = "Some string literal value"
```



### å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡

å¦‚æœéœ€è¦ä¸€ä¸ªè·¨è¶Šå¤šè¡Œçš„å­—ç¬¦ä¸²ï¼Œè¯·ä½¿ç”¨å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ã€‚å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡æ˜¯ç”±ä¸‰ä¸ªåŒå¼•å·`"`åŒ…å›´çš„å­—ç¬¦åºåˆ—ï¼Œå¹¶ä¸”åŒ…å›´å­—ç¬¦åºåˆ—çš„å‰åä¸‰ä¸ªåŒå¼•å·éƒ½è¦**å•ç‹¬å ç”¨ä¸€è¡Œ**ï¼ˆè¢«åŒ…å›´çš„å­—ç¬¦åºåˆ—å¹¶ä¸ä¼šä»¥æ¢è¡Œç¬¦å¼€å¤´å’Œç»“æŸï¼‰ï¼š

```swift
let quotation = """
The White Rabbit put on his spectacles.  "Where shall I begin,
please your Majesty?" he asked.

"Begin at the beginning," the King said gravely, "and go on
till you come to the end; then stop."
"""
```

å½“å¤šè¡Œå­—ç¬¦ä¸²æ–‡æœ¬ä¸­ä¿è¡Œæ¢è¡Œç¬¦æ—¶ï¼Œè¯¥æ¢è¡Œç¬¦ä¹Ÿä¼šå‡ºç°åœ¨å­—ç¬¦ä¸²çš„å€¼ä¸­ã€‚**å¦‚æœæˆ‘ä»¬æƒ³ä½¿ç”¨æ¢è¡Œç¬¦æ¥ä½¿æˆ‘ä»¬çš„æºä»£ç æ›´å®¹æ˜“é˜…è¯»ï¼Œä½†åˆä¸å¸Œæœ›æ¢è¡Œç¬¦æˆä¸ºå­—ç¬¦ä¸²å€¼çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨è¿™äº›è¡Œçš„æœ«å°¾åŠ ä¸Šä¸€ä¸ªåæ–œæ `\`ï¼š**

```swift
let softWrappedQuotation = """
The White Rabbit put on his spectacles.  "Where shall I begin, \
please your Majesty?" he asked.

"Begin at the beginning," the King said gravely, "and go on \
till you come to the end; then stop."
"""
```

è¦æƒ³å¤šè¡Œå­—ç¬¦ä¸²ä»¥æ¢è¡Œå¼€å¤´æˆ–ç»“æŸï¼Œè¯·ä½¿ç”¨ç©ºç™½è¡Œä½œä¸ºç¬¬ä¸€è¡Œæˆ–æœ€åä¸€è¡Œï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨æ¢è¡Œç¬¦`\n`ï¼‰ï¼š

```swift
let lineBreaks = """

This string starts with a line break.
It also ends with a line break.

"""
```

**æ³¨æ„ï¼Œå¤šè¡Œå­—ç¬¦ä¸²ä¸­æ¯ä¸€è¡Œçš„ç¼©è¿›å¿…é¡»å¤§äºæˆ–ç­‰äºç»“å°¾ä¸‰ä¸ªåŒå¼•å·çš„ç¼©è¿›ã€‚å¦‚æœæŸä¸€è¡Œçš„ç¼©è¿›è¶…å‡ºäº†ç»“å°¾ä¸‰ä¸ªåŒå¼•å·çš„ç¼©è¿›ï¼Œé‚£ä¹ˆé¢å¤–å¤šå‡ºæ¥çš„ç¼©è¿›ä¼šè¢«ç®—ä½œç©ºæ ¼å­—ç¬¦ä½œä¸ºå¤šè¡Œå­—ç¬¦ä¸²çš„å€¼ã€‚**

![å¤šè¡Œå­—ç¬¦ä¸²ç¼©è¿›.png](https://docs.swift.org/swift-book/_images/multilineStringWhitespace_2x.png)



### å­—ç¬¦ä¸²å­—é¢é‡ä¸­çš„ç‰¹æ®Šå­—ç¬¦

å­—ç¬¦ä¸²å­—é¢é‡ä¸­å¯ä»¥åŒ…å«ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼š

- è½¬ä¹‰çš„ç‰¹æ®Šå­—ç¬¦ï¼šç©ºå­—ç¬¦`\0`ï¼ˆä¸æ˜¯ç©ºæ ¼å­—ç¬¦ï¼‰ï¼Œåæ–œæ `\\`ï¼Œæ°´å¹³åˆ¶è¡¨ç¬¦`\t`ï¼Œæ¢è¡Œç¬¦`\n`ï¼Œå›è½¦ç¬¦`\r`ï¼ŒåŒå¼•å·`\"`ï¼Œå•å¼•å·`\'`ã€‚
- ä»»æ„ Unicode æ ‡é‡å€¼ï¼Œå†™ä¸º`\u{n}`ï¼Œå…¶ä¸­`n`æ˜¯ 1-8 ä½æ•°çš„åå…­è¿›åˆ¶æ•°ã€‚ï¼ˆå‚çœ‹åé¢çš„ [Unicode]() ç« èŠ‚ï¼‰

```swift
let wiseWords = "\"Imagination is more important than knowledge\" - Einstein"
// "Imagination is more important than knowledge" - Einstein
let dollarSign = "\u{24}"        // $,  Unicode scalar U+0024
let blackHeart = "\u{2665}"      // â™¥,  Unicode scalar U+2665
let sparklingHeart = "\u{1F496}" // ğŸ’–, Unicode scalar U+1F496
```



åœ¨å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨åŒå¼•å·`"`ã€‚å¦‚æœè¦åœ¨å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ä¸­ä½¿ç”¨è¿ç»­çš„ä¸‰ä¸ªåŒå¼•å·`"`ï¼Œåˆ™éœ€è¦åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ï¼š

```swift
let threeDoubleQuotationMarks = """
Escaping the first quotation mark \"""
Escaping all three quotation marks \"\"\"
"""
```



### æ‰©å±•å­—ç¬¦ä¸²å®šç•Œç¬¦

å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨å­—ç¬¦ä¸²åŒ…å«ç‰¹æ®Šå­—ç¬¦è€Œæ— éœ€è°ƒç”¨å…¶æ•ˆæœï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ‰©å±•å®šç•Œç¬¦åŒ…å›´å­—ç¬¦ä¸²å­—é¢é‡ã€‚ä¾‹å¦‚ï¼Œæ‰“å°å­—ç¬¦ä¸²`#"ä½ å¥½å•Š\nå¾ˆé«˜å…´è®¤è¯†ä½ "#`æ—¶ï¼Œå°†ä¼šæ‰“å°`\n`ï¼Œè€Œä¸æ˜¯æ¢è¡Œæ‰“å°ã€‚



å¦‚æœæƒ³è¦æ‰©å±•å®šç•Œç¬¦åŒ…å›´çš„å­—ç¬¦ä¸²ä¸­çš„è½¬ä¹‰å­—ç¬¦ç”Ÿæ•ˆï¼Œå¯ä»¥åœ¨è½¬ä¹‰å­—ç¬¦`\`åæ’å…¥æ‰©å±•å®šç•Œç¬¦`#`ã€‚å­—ç¬¦ä¸²æ¯ä¸€ä¾§è¢«å¤šå°‘ä¸ªæ‰©å±•å®šç•Œç¬¦`#`åŒ…å›´ï¼Œå°±è¦åœ¨å­—ç¬¦ä¸²ä¸­çš„è½¬ä¹‰å­—ç¬¦`\`åæ’å…¥å¤šå°‘ä¸ªæ‰©å±•å®šç•Œç¬¦`#`ã€‚ä¾‹å¦‚ï¼Œæ‰“å°`#ä½ å¥½å•Š\#nå¾ˆé«˜å…´è®¤è¯†ä½ `å­—ç¬¦ä¸²æ—¶ï¼Œæ¢è¡Œç¬¦ä¼šç”Ÿæ•ˆã€‚



ä¹Ÿå¯ä»¥ä½¿ç”¨æ‰©å±•å®šç•Œç¬¦åŒ…å›´å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ï¼Œä¾‹å¦‚å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ä¸­åŒ…å«è¿ç»­çš„ä¸‰ä¸ªåŒå¼•å·`"""`æ—¶ï¼š

```swift
let threeMoreDoubleQuotationMarks = #"""
Here are three more double quotes: """
"""#
```



## åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²

åˆ›å»ºç©ºå­—ç¬¦ä¸²çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç›´æ¥å°†ç©ºå­—ç¬¦ä¸²å­—é¢é‡èµ‹å€¼ç»™å˜é‡ï¼Œä¸€ç§æ˜¯ä½¿ç”¨åˆå§‹åŒ–è¯­æ³•åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„`String`å®ä¾‹ï¼š

```swift
var emptyString = ""               // empty string literal
var anotherEmptyString = String()  // initializer syntax
// these two strings are both empty, and are equivalent to each other
```

å¯ä»¥é€šè¿‡`String`çš„`isEmpty`å±æ€§æ¥ç¡®å®šå…¶å€¼æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²ï¼š

```swift
if emptyString.isEmpty {
    print("Nothing to see here")
}
// Prints "Nothing to see here"
```



## å­—ç¬¦ä¸²å¯å˜æ€§

å­—ç¬¦ä¸²**å¸¸é‡**æ˜¯ä¸å¯å˜çš„ï¼Œå­—ç¬¦ä¸²**å˜é‡**æ˜¯å¯å˜çš„ï¼š

```swift
var variableString = "Horse"
variableString += " and carriage"
// variableString is now "Horse and carriage"

let constantString = "Highlander"
constantString += " and another Highlander"
// ç¼–è¯‘æŠ¥é”™!!!
```



## å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹

Swift çš„`String`ç±»å‹æ˜¯å€¼ç±»å‹ã€‚å¦‚æœæˆ‘ä»¬æ–°å»ºä¸€ä¸ª`String`å€¼ï¼Œåœ¨å°†è¿™ä¸ª`String`å€¼ä¼ é€’ç»™å‡½æ•°æˆ–æ–¹æ³•æ—¶ï¼Œæˆ–è€…å°†å®ƒèµ‹å€¼ç»™å¸¸é‡æˆ–å˜é‡æ—¶ï¼Œä¼šæ ¹æ®è¿™ä¸ª`String`å€¼æ·±æ‹·è´å‡ºä¸€ä¸ªæ–°çš„`String`å€¼ï¼Œå¹¶å°†è¿™ä¸ªæ–°çš„`String`å€¼ä¼ é€’ç»™å‡½æ•°æˆ–æ–¹æ³•ï¼Œæˆ–è€…èµ‹å€¼ç»™å¸¸é‡æˆ–å˜é‡ã€‚



åœ¨åå°ï¼ŒSwift çš„ç¼–è¯‘å™¨ä¼˜åŒ–äº†å­—ç¬¦ä¸²çš„ç”¨æ³•ï¼Œä»¥ä¾¿ä»…åœ¨ç»å¯¹å¿…è¦æ—¶æ‰è¿›è¡Œå®é™…èµ‹å€¼ã€‚



## ä¸å­—ç¬¦é…åˆ

å¯ä»¥é€šè¿‡ä½¿ç”¨`for-in`å¾ªç¯éå†å­—ç¬¦ä¸²æ¥è®¿é—®å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ª`Character`å€¼ï¼š

```swift
for character in "Dog!ğŸ¶" {
    print(character)
}
// D
// o
// g
// !
// ğŸ¶
```



å¯ä»¥ä½¿ç”¨`Character`å€¼æ•°ç»„æ¥æ„é€ `String`å€¼ï¼š

```swift
let catCharacters: [Character] = ["C", "a", "t", "!", "ğŸ±"]
let catString = String(catCharacters)
print(catString)
// Prints "Cat!ğŸ±"
```



## æ‹¼æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦

å¯ä»¥ä½¿ç”¨åŠ æ³•è¿ç®—ç¬¦`+`æ¥æ‹¼æ¥ä¸¤ä¸ª`String`å€¼ï¼š

```swift
let string1 = "hello"
let string2 = " there"
var welcome = string1 + string2
// welcome now equals "hello there"
```

è¿˜å¯ä»¥ä½¿ç”¨å¤åˆèµ‹å€¼è¿ç®—ç¬¦`+=`å°†`String`å€¼æ‹¼æ¥åˆ°ç°æœ‰çš„`String`å˜é‡ä¸­ï¼š

```swift
var instruction = "look over"
instruction += string2
// instruction now equals "look over there"
```

è¿˜å¯ä»¥ä½¿ç”¨`String`ç±»å‹çš„`append()`æ–¹æ³•å°†`Character`å€¼æ‹¼æ¥åˆ°`String`å˜é‡ä¸­ï¼š

```swift
let exclamationMark: Character = "!"
welcome.append(exclamationMark)
// welcome now equals "hello there!"
```



## å­—ç¬¦ä¸²æ’å€¼

å­—ç¬¦ä¸²å·®å€¼æ˜¯ä¸€ç§é€šè¿‡ç»„åˆå¸¸é‡ã€å˜é‡ã€æ–‡æœ¬å’Œè¡¨è¾¾å¼æ¥æ„å»ºä¸€ä¸ªæ–°çš„`String`å€¼çš„æ–¹æ³•ã€‚

```swift
let multiplier = 3
let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"
// message is "3 times 2.5 is 7.5"
```

ä¹Ÿå¯ä»¥ä½¿ç”¨æ‰©å±•å®šç•Œç¬¦åŒ…å›´å­—ç¬¦ä¸²æ¥ä½¿å­—ç¬¦ä¸²å·®å€¼æ— æ•ˆï¼š

```swift
print(#"Write an interpolated string in Swift using \(multiplier)."#)
// Prints "Write an interpolated string in Swift using \(multiplier)."
```

è¦æƒ³è¢«æ‰©å±•å®šç•Œç¬¦`#`åŒ…å›´çš„å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ä¸²å·®å€¼ç”Ÿæ•ˆï¼Œéœ€è¦åœ¨è½¬ä¹‰å­—ç¬¦`\`åæ’å…¥æ‰©å±•å®šç•Œç¬¦`#`ï¼š

```swift
print(#"6 times 7 is \#(6 * 7)."#)
// Prints "6 times 7 is 42."

let string = ###"""
      	 6 times 7 is \###(6 * 7).
      	 """###
print(string)
// Prints "6 times 7 is 42."
```



## Unicode

Unicode æ˜¯ç”¨äºåœ¨ä¸åŒä¹¦å†™ç³»ç»Ÿä¸­ç¼–ç ï¼Œè¡¨ç¤ºå’Œå¤„ç†æ–‡æœ¬çš„å›½é™…æ ‡å‡†ã€‚



### Unicode æ ‡é‡å€¼

åœ¨åå°ï¼ŒSwift çš„æœ¬åœ°`String`ç±»å‹æ˜¯æ ¹æ® Unicode æ ‡é‡å€¼æ„å»ºçš„ã€‚Unicode æ ‡é‡å€¼æ˜¯å­—ç¬¦æˆ–ä¿®é¥°ç¬¦çš„å”¯ä¸€21ä½æ•°å­—ï¼Œä¾‹å¦‚ï¼Œ`a`çš„ Unicode æ ‡é‡å€¼ä¸º`U+0061`ï¼Œ`ğŸ¥`çš„ Unicode æ ‡é‡å€¼ä¸º`U+1F425`ã€‚



æ³¨æ„ï¼Œå¹¶éæ‰€æœ‰21ä½ Unicode æ ‡é‡å€¼éƒ½åˆ†é…ç»™äº†ä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­æŸäº›æ ‡é‡å€¼æ˜¯è¢«ä¿ç•™ä»¥ä¾›å°†æ¥åˆ†é…æˆ–è€…ç”¨äº UTF-16 ç¼–ç çš„ã€‚



### æ‰©å±•å­—ç´ ç°‡

Swift çš„æ¯ä¸ª`Character`ç±»å‹çš„å€¼éƒ½ä»£è¡¨ä¸€ä¸ªæ‰©å±•å­—ç´ ç°‡ã€‚**æ‰©å±•å­—ç´ ç°‡æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª Unicode æ ‡é‡çš„åºåˆ—**ï¼Œè¿™äº›æ ‡é‡ç»„åˆæ—¶ä¼šäº§ç”Ÿä¸€ä¸ªäººç±»å¯è¯»çš„å­—ç¬¦ã€‚



è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼Œå¸¦æœ‰äºŒå£°å£°è°ƒçš„å­—æ¯`Ã©`å¯ä»¥ç”±å•ä¸ª Unicode æ ‡é‡å€¼`U+00E9`è¡¨ç¤ºï¼Œä½†ä¹Ÿå¯ä»¥ç”±å­—æ¯`e`çš„æ ‡é‡å€¼`U+0065`å’ŒäºŒå£°å£°è°ƒ`ËŠ`çš„æ ‡é‡å€¼`U+0301`ç»„åˆèµ·æ¥è¡¨ç¤ºï¼š

```swift
let eAcute: Character = "\u{E9}"                         // Ã©
let combinedEAcute: Character = "\u{65}\u{301}"          // e followed by Ì
// eAcute is Ã©, combinedEAcute is Ã©

let precomposed: Character = "\u{D55C}"                  // í•œ
let decomposed: Character = "\u{1112}\u{1161}\u{11AB}"   // á„’, á…¡, á†«
// precomposed is í•œ, decomposed is í•œ

let enclosedEAcute: Character = "\u{E9}\u{20DD}"
// enclosedEAcute is Ã©âƒ

let regionalIndicatorForUS: Character = "\u{1F1FA}\u{1F1F8}"
// regionalIndicatorForUS is ğŸ‡ºğŸ‡¸
```



## å­—ç¬¦ä¸ªæ•°

å¯ä»¥ä½¿ç”¨`String`çš„`count`å±æ€§æ¥æ£€ç´¢å­—ç¬¦ä¸²ä¸­`Character`å€¼çš„ä¸ªæ•°ï¼š

```swift
let unusualMenagerie = "Koala ğŸ¨, Snail ğŸŒ, Penguin ğŸ§, Dromedary ğŸª"
print("unusualMenagerie has \(unusualMenagerie.count) characters")
// Prints "unusualMenagerie has 40 characters"
```

æ³¨æ„ï¼ŒSwift å¯¹`Character`å€¼ä½¿ç”¨æ‰©å±•å­—ç´ ç°‡æ¥è¡¨ç¤ºå­—ç¬¦ä¸²çš„æ‹¼æ¥å’Œä¿®æ”¹ï¼Œå¯èƒ½å¹¶ä¸ä¼šæ”¹å˜å­—ç¬¦ä¸²ä¸­å­—ç¬¦ä¸ªæ•°ï¼Œä¾‹å¦‚ï¼Œ`cafe`åé¢æ‹¼æ¥äºŒå£°å£°è°ƒ`ËŠ`çš„æ ‡é‡å€¼`U+0301`ï¼Œç»“æœä¸º`cafÃ©`ï¼Œè¿˜æ˜¯åªåŒ…å«`4`ä¸ªå­—ç¬¦ã€‚

```swift
var word = "cafe"
print("the number of characters in \(word) is \(word.count)")
// Prints "the number of characters in cafe is 4"

word += "\u{301}"    // COMBINING ACUTE ACCENT, U+0301

print("the number of characters in \(word) is \(word.count)")
// Prints "the number of characters in cafÃ© is 4"
```



> æ‰©å±•å­—ç´ ç°‡å¯ä»¥ç”±å¤šä¸ª Unicode æ ‡é‡å€¼ç»„æˆï¼Œè¿™æ„å‘³ç€ä¸åŒçš„å­—ç¬¦ï¼ˆä»¥åŠç›¸åŒå­—ç¬¦çš„ä¸åŒè¡¨ç°å½¢å¼ï¼‰å¯èƒ½éœ€è¦å ç”¨ä¸åŒå¤§å°çš„å†…å­˜ç©ºé—´ã€‚å¦‚æœä¸å¯¹å­—ç¬¦ä¸²è¿›è¡Œè¿­ä»£æ¥ç¡®å®šå…¶æ‰©å±•å­—ç´ ç°‡è¾¹ç•Œï¼Œå°±æ— æ³•è®¡ç®—å­—ç¬¦ä¸²ä¸­å­—ç¬¦ä¸ªæ•°ã€‚æ³¨æ„ï¼Œ`count`å±æ€§å¿…é¡»éå†æ•´ä¸ªå­—ç¬¦ä¸²çš„ Unicode æ ‡é‡ï¼Œä»¥ä¾¿ç¡®å®šè¯¥å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ä¸ªæ•°ã€‚



> `String`çš„`count`å±æ€§è¿”å›çš„å­—ç¬¦ä¸ªæ•°å¹¶ä¸æ€»æ˜¯ä¸åŒ…å«ç›¸åŒå­—ç¬¦çš„`NSString`çš„`length`å±æ€§è¿”å›çš„å­—ç¬¦ä¸ªæ•°ç›¸åŒã€‚`NSString`çš„é•¿åº¦å–å†³äºå­—ç¬¦ä¸²çš„ UTF-16 è¡¨ç¤ºå½¢å¼ä¸­ 16ä½ ä»£ç å•å…ƒçš„æ•°é‡ï¼Œè€Œä¸å–å†³äºå­—ç¬¦ä¸²ä¸­çš„ Unicode æ‰©å±•å­—ç´ ç°‡çš„æ•°é‡ã€‚



## è®¿é—®å’Œä¿®æ”¹å­—ç¬¦ä¸²



### å­—ç¬¦ä¸²ç´¢å¼•

å¦‚ä¸Šæ‰€è¿°ï¼Œä¸åŒçš„å­—ç¬¦å¯èƒ½éœ€è¦å ç”¨ä¸åŒå¤§å°çš„å†…å­˜ï¼Œå¦‚æœæƒ³è¦ç¡®å®šæŸä¸ªå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼Œåˆ™å¿…é¡»ä»å­—ç¬¦ä¸²çš„å¼€å¤´æˆ–ç»“å°¾å¯¹å­—ç¬¦ä¸²çš„æ¯ä¸ª`Unicode`æ ‡é‡è¿›è¡Œè¿­ä»£ã€‚**å› æ­¤ï¼ŒSwift å­—ç¬¦ä¸²æ— æ³•ç”¨æ•´æ•°å€¼å»ºç«‹ç´¢å¼•ã€‚**



`String`ç±»å‹å…³è”æœ‰ä¸€ä¸ª`Index`ç±»å‹ï¼Œ`Index`ç±»å‹çš„å€¼å¯¹åº”ç€æŸä¸ªå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­ä½ç½®ã€‚



å¯ä»¥ä½¿ç”¨`String`çš„`startIndex`å±æ€§ï¼ˆ`String`ç±»å‹å…³è”çš„`Index`ç±»å‹ï¼‰è®¿é—®å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ï¼Œ`endIndex`å±æ€§æ˜¯å­—ç¬¦ä¸²ä¸­æœ€åä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ã€‚



å¯ä»¥ä½¿ç”¨`String`çš„`index(before:)`å’Œ`index(after:)`æ–¹æ³•æ¥è®¿é—®ç»™å®šç´¢å¼•çš„å‰ä¸€ä¸ªå’Œåä¸€ä¸ªç´¢å¼•ã€‚å¦‚æœè¦è®¿é—®è·ç¦»ç»™å®šç´¢å¼•æ›´è¿œçš„ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨`index(_:offsetBy:)`æ–¹æ³•ã€‚



å¯ä»¥ä½¿ç”¨ä¸‹æ ‡ï¼ˆä¸æ˜¯æ•´æ•°ï¼‰è¯­æ³•è®¿é—®å­—ç¬¦ä¸²ä¸­æŒ‡å®šç´¢å¼•ä½ç½®å¤„çš„å­—ç¬¦ï¼š

```swift
let greeting = "Guten Tag!"
greeting[greeting.startIndex]
// G
greeting[greeting.index(before: greeting.endIndex)]
// !
greeting[greeting.index(after: greeting.startIndex)]
// u
let index = greeting.index(greeting.startIndex, offsetBy: 7)
greeting[index]
// a
```

å°è¯•è®¿é—®å­—ç¬¦ä¸²ç´¢å¼•èŒƒå›´ä¹‹å¤–çš„ç´¢å¼•ï¼Œä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚



ä½¿ç”¨`indices`å±æ€§è®¿é—®å­—ç¬¦ä¸²çš„æ‰€æœ‰ç´¢å¼•ï¼š

```swift
for index in greeting.indices {
    print("\(greeting[index]) ", terminator: "")
}
// Prints "G u t e n   T a g ! "
```



> ä»»ä½•éµå¾ª`Collection`åè®®çš„ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨`startIndex`å’Œ`endIndex`å±æ€§ä»¥åŠ`index(before:)`ã€`index(after:)`å’Œ`index(_:offsetBy:)`æ–¹æ³•ï¼ŒåŒ…æ‹¬`String`ã€`Array`ã€`Dictionary`å’Œ`Set`ã€‚



### æ’å…¥å’Œåˆ é™¤

ä½¿ç”¨`insert(_:at:)`æ–¹æ³•å°†å•ä¸ªå­—ç¬¦æ’å…¥åˆ°å­—ç¬¦ä¸²çš„æŒ‡å®šä½ç½®ï¼Œä½¿ç”¨`insert(contentsOf:at:)`æ–¹æ³•å°†å¦ä¸€ä¸ªå­—ç¬¦ä¸²æ’å…¥åˆ°å­—ç¬¦ä¸²çš„æŒ‡å®šä½ç½®ã€‚

```swift
var welcome = "hello"
welcome.insert("!", at: welcome.endIndex)
// welcome now equals "hello!"

welcome.insert(contentsOf: " there", at: welcome.index(before: welcome.endIndex))
// welcome now equals "hello there!"
```



ä½¿ç”¨`remove(at:)`æ–¹æ³•åˆ é™¤å­—ç¬¦ä¸²ä¸­æŒ‡å®šä½ç½®å¤„çš„å­—ç¬¦ï¼Œä½¿ç”¨`removeSubrange(_:)`æ–¹æ³•åˆ é™¤æŒ‡å®šèŒƒå›´å¤„çš„å­å­—ç¬¦ä¸²ã€‚

```swift
welcome.remove(at: welcome.index(before: welcome.endIndex))
// welcome now equals "hello there"

let range = welcome.index(welcome.endIndex, offsetBy: -6)..<welcome.endIndex
welcome.removeSubrange(range)
// welcome now equals "hello"
```



> ä»»ä½•éµå¾ª`Collection`åè®®çš„ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨`insert(_:at:)`ã€`insert(contentsOf:at:)`ã€`remove(at:)`å’Œ`removeSubrange(_:)`æ–¹æ³•ï¼ŒåŒ…æ‹¬`String`ã€`Array`ã€`Dictionary`å’Œ`Set`ã€‚



### å­å­—ç¬¦ä¸²

ä½¿ç”¨ä¸‹æ ‡æˆ–è€…è¯¸å¦‚`prefix(_:)`ä¹‹ç±»çš„æ–¹æ³•ä»æŸä¸ªå­—ç¬¦ä¸²ä¸­è·å–ä¸€ä¸ªå­å­—ç¬¦ä¸²æ—¶ï¼Œå…¶ç»“æœæ˜¯ä¸€ä¸ª`Substring`ç±»å‹çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯å¦ä¸€ä¸ª`String`ç±»å‹çš„å®ä¾‹ã€‚`String`ç±»å‹æä¾›çš„å¤§å¤šæ•°æ–¹æ³•ï¼Œ`Substring`ç±»å‹ä¹Ÿæä¾›ã€‚**ä¸`String`ä¸åŒï¼Œåœ¨å¯¹`String`æ‰§è¡Œæ“ä½œæ—¶ï¼Œåªèƒ½åœ¨çŸ­æ—¶é—´å†…ä½¿ç”¨å…¶`Substring`ã€‚å½“å‡†å¤‡å°†`Substring`å­˜å‚¨æ›´é•¿çš„æ—¶é—´æ—¶ï¼Œå¯ä»¥å°†`Substring`è½¬æ¢ä½`String`ã€‚

```swift
let greeting = "Hello, world!"
let index = greeting.firstIndex(of: ",") ?? greeting.endIndex
let beginning = greeting[..<index]
// beginning is "Hello"

// Convert the result to a String for long-term storage.
let newString = String(beginning)
```



ä¸`String`å®ä¾‹ä¸€æ ·ï¼Œæ¯ä¸ª`Substring`å®ä¾‹ä¹Ÿä¼šå ç”¨ä¸€å—å†…å­˜ï¼Œä½†`Substring`å®ä¾‹å¯ä»¥é‡ç”¨ç”¨äºå­˜å‚¨åŸå§‹`String`çš„éƒ¨åˆ†å†…å­˜ï¼Œæˆ–è€…é‡ç”¨ç”¨äºå­˜å‚¨å¦ä¸€ä¸ª`Substring`çš„éƒ¨åˆ†å†…å­˜ã€‚ç”±äº`Substring`é‡å¤ä½¿ç”¨åŸå§‹`String`çš„éƒ¨åˆ†å†…å­˜ï¼Œæ‰€ä»¥åªè¦ä½¿ç”¨åŸå§‹`String`çš„ä»»ä½•`Substring`ï¼ŒåŸå§‹`String`éƒ½å¿…é¡»ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚å› æ­¤ï¼Œ`Substring`ä¸é€‚åˆé•¿æœŸå­˜å‚¨ã€‚

![Substring.png](https://docs.swift.org/swift-book/_images/stringSubstring_2x.png)



## æ¯”è¾ƒå­—ç¬¦ä¸²



### å­—ç¬¦ä¸²å’Œå­—ç¬¦ç›¸ç­‰

å¯ä»¥ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦`==`å’Œ`!=`æ¥æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æˆ–å­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼š

```swift
let quotation = "We're a lot alike, you and I."
let sameQuotation = "We're a lot alike, you and I."
if quotation == sameQuotation {
    print("These two strings are considered equal")
}
// Prints "These two strings are considered equal"
```



å¦‚æœä¸¤ä¸ª`String`å€¼ï¼ˆæˆ–ä¸¤ä¸ªå­—ç¬¦å€¼ï¼‰çš„æ‰©å±•å­—ç´ ç°‡æ˜¯è§„èŒƒç›¸ç­‰çš„ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬ç›¸ç­‰ã€‚å¦‚æœæ‰©å±•å­—ç´ ç°‡å…·æœ‰ç›¸åŒçš„è¯­è¨€å«ä¹‰å’Œå¤–è§‚ï¼Œå³ä½¿å®ƒä»¬æ˜¯ç”±ä¸åŒçš„ Unicode æ ‡é‡ç»„æˆï¼Œå®ƒä»¬åœ¨è§„èŒƒä¸Šä¹Ÿæ˜¯ç›¸ç­‰çš„ã€‚ä¾‹å¦‚ï¼Œå¸¦æœ‰äºŒå£°å£°è°ƒçš„å­—æ¯`Ã©`å¯ä»¥ç”±å•ä¸ª Unicode æ ‡é‡å€¼`U+00E9`è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ç”±å­—æ¯`e`çš„æ ‡é‡å€¼`U+0065`å’ŒäºŒå£°å£°è°ƒ`ËŠ`çš„æ ‡é‡å€¼`U+0301`ç»„åˆèµ·æ¥è¡¨ç¤ºï¼Œè¿™ä¸¤ç§æ‰©å±•å­—ç´ ç°‡éƒ½æ˜¯è¡¨ç¤ºå­—ç¬¦`Ã©`çš„æœ‰æ•ˆæ–¹æ³•ï¼Œå®ƒä»¬æ˜¯ç›¸ç­‰çš„ã€‚

```swift
let latinCapitalLetterA: Character = "\u{41}"

let cyrillicCapitalLetterA: Character = "\u{0410}"

if latinCapitalLetterA != cyrillicCapitalLetterA {
    print("These two characters aren't equivalent.")
}
// Prints "These two characters aren't equivalent."
```



### å‰ç¼€å’Œåç¼€ç›¸ç­‰

å¯ä»¥ä½¿ç”¨`String`çš„`hasPrefix(_:)`æ–¹æ³•æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ç‰¹å®šçš„å‰ç¼€ï¼Œå¯ä»¥ä½¿ç”¨`hasSuffix(_:)`æ–¹æ³•æ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ç‰¹å®šçš„åç¼€ã€‚

```swift
let romeoAndJuliet = [
    "Act 1 Scene 1: Verona, A public place",
    "Act 1 Scene 2: Capulet's mansion",
    "Act 1 Scene 3: A room in Capulet's mansion",
    "Act 1 Scene 4: A street outside Capulet's mansion",
    "Act 1 Scene 5: The Great Hall in Capulet's mansion",
    "Act 2 Scene 1: Outside Capulet's mansion",
    "Act 2 Scene 2: Capulet's orchard",
    "Act 2 Scene 3: Outside Friar Lawrence's cell",
    "Act 2 Scene 4: A street in Verona",
    "Act 2 Scene 5: Capulet's mansion",
    "Act 2 Scene 6: Friar Lawrence's cell"
]

var act1SceneCount = 0
for scene in romeoAndJuliet {
    if scene.hasPrefix("Act 1 ") {
        act1SceneCount += 1
    }
}
print("There are \(act1SceneCount) scenes in Act 1")
// Prints "There are 5 scenes in Act 1"

var mansionCount = 0
var cellCount = 0
for scene in romeoAndJuliet {
    if scene.hasSuffix("Capulet's mansion") {
        mansionCount += 1
    } else if scene.hasSuffix("Friar Lawrence's cell") {
        cellCount += 1
    }
}
print("\(mansionCount) mansion scenes; \(cellCount) cell scenes")
// Prints "6 mansion scenes; 2 cell scenes"
```



## å­—ç¬¦ä¸²çš„ Unicode è¡¨ç¤ºå½¢å¼

å°† Unicode å­—ç¬¦ä¸²å†™å…¥æ–‡æœ¬æ–‡ä»¶æˆ–è€…å…¶ä»–å­˜å‚¨æ—¶ï¼Œè¯¥å­—ç¬¦ä¸²ä¸­çš„ Unicode æ ‡é‡ä¼šä»¥å‡ ç§ Unicode å®šä¹‰çš„ç¼–ç å½¢å¼ä¹‹ä¸€è¿›è¡Œç¼–ç ã€‚æ¯ä¸ªè¡¨å•ä¼šå°†å­—ç¬¦ä¸²ç¼–ç ä¸ºç§°ä¸º**ä»£ç å•å…ƒ**ï¼ˆcode unitï¼‰çš„å°å—ï¼ŒUTF-8 ç¼–ç å½¢å¼å°†å­—ç¬¦ä¸²ç¼–ç ä¸º`8`ä½ä»£ç å•å…ƒï¼ŒUTF-16 ç¼–ç å½¢å¼å°†å­—ç¬¦ä¸²ç¼–ç ä¸º`16`ä½ä»£ç å•å…ƒï¼ŒUTF-32 ç¼–ç å½¢å¼å°†å­—ç¬¦ä¸²ç¼–ç ä¸º`32`ä½ä»£ç å•å…ƒã€‚



ä¸‹é¢çš„æ¯ä¸ªç¤ºä¾‹æ˜¾ç¤ºä»¥ä¸‹å­—ç¬¦ä¸²çš„ä¸åŒè¡¨ç¤ºå½¢å¼ï¼š

```swift
let dogString = "Dogâ€¼ğŸ¶"
```



### UTF-8 è¡¨ç¤ºå½¢å¼

å¯ä»¥é€šè¿‡è¿­ä»£`dogString`çš„`utf8`å±æ€§æ¥è®¿é—®å­—ç¬¦ä¸²çš„ UTF-8 è¡¨ç¤ºå½¢å¼ï¼Œè¯¥å±æ€§çš„ç±»å‹ä¸º`String.UTF8View`ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ— ç¬¦å·çš„`8`ä½ï¼ˆ`UInt8`ï¼‰åè¿›åˆ¶å€¼çš„é›†åˆï¼Œæ¯ä¸ªå€¼å¯¹åº”äºå­—ç¬¦ä¸²çš„ UTF-8 è¡¨ç¤ºå½¢å¼çš„æ¯ä¸ªå­—èŠ‚ï¼š

![UTF-8.png](https://docs.swift.org/swift-book/_images/UTF8_2x.png)

```swift
for codeUnit in dogString.utf8 {
    print("\(codeUnit) ", terminator: "")
}
print("")
// Prints "68 111 103 226 128 188 240 159 144 182 "
```



### UTF-16 è¡¨ç¤ºå½¢å¼

å¯ä»¥é€šè¿‡è¿­ä»£`dogString`çš„`utf16`å±æ€§æ¥è®¿é—®å­—ç¬¦ä¸²çš„ UTF-16 è¡¨ç¤ºå½¢å¼ï¼Œè¯¥å±æ€§çš„ç±»å‹ä¸º`String.UTF16View`ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ— ç¬¦å·çš„`16`ä½ï¼ˆ`UInt16`ï¼‰åè¿›åˆ¶å€¼çš„é›†åˆï¼Œæ¯ä¸ªå€¼å¯¹åº”äºå­—ç¬¦ä¸²çš„ UTF-16 è¡¨ç¤ºå½¢å¼çš„`16`ä½ä»£ç å•å…ƒï¼š

![UTF-16.png](https://docs.swift.org/swift-book/_images/UTF16_2x.png)

```swift
for codeUnit in dogString.utf16 {
    print("\(codeUnit) ", terminator: "")
}
print("")
// Prints "68 111 103 8252 55357 56374 "
```



### Unicode æ ‡é‡è¡¨ç¤ºå½¢å¼

å¯ä»¥é€šè¿‡è¿­ä»£`dogString`çš„`unicodeScalars`å±æ€§æ¥è®¿é—®å­—ç¬¦ä¸²çš„ Unicode æ ‡é‡è¡¨ç¤ºå½¢å¼ï¼Œè¯¥å±æ€§çš„ç±»å‹ä¸º`UnicodeScalarView`ï¼Œå®ƒæ˜¯ä¸€ä¸ª`UnicodeScalar`ç±»å‹å€¼çš„é›†åˆã€‚



æ¯ä¸ª`UnicodeScalar`å€¼æœ‰ä¸€ä¸ª`value`å±æ€§ï¼Œè¯¥å±æ€§è¿”å› Unicode æ ‡é‡çš„`21`ä½å€¼ï¼Œè¿™ä¸ª`21`å€¼ä»¥ä¸€ä¸ª`UInt32`å€¼è¡¨ç¤ºã€‚å› æ­¤ï¼ŒUnicode æ ‡é‡è¡¨ç¤ºå½¢å¼æ˜¯ç­‰æ•ˆäº UTF-32 è¡¨ç¤ºå½¢å¼çš„ã€‚

![Unicode æ ‡é‡è¡¨ç¤ºå½¢å¼.png](https://docs.swift.org/swift-book/_images/UnicodeScalar_2x.png)

```swift
for scalar in dogString.unicodeScalars {
    print("\(scalar.value) ", terminator: "")
}
print("")
// Prints "68 111 103 8252 128054 "
```



æ¯ä¸ª`UnicodeScalar`å€¼ä¹Ÿå¯ä»¥ç”¨äºæ„é€ æ–°çš„`String`å€¼ï¼Œä¾‹å¦‚ä½¿ç”¨å­—ç¬¦ä¸²æ’å€¼ï¼š

```swift
for scalar in dogString.unicodeScalars {
    print("\(scalar) ")
}
// D
// o
// g
// â€¼
// ğŸ¶
```





# é›†åˆç±»å‹

Swift æä¾›äº†æ•°ç»„ã€å­—å…¸å’Œé›†åˆè¿™ä¸‰ç§é›†åˆç±»å‹ï¼Œæ•°ç»„æ˜¯å€¼çš„æœ‰åºé›†åˆï¼Œé›†åˆæ˜¯å”¯ä¸€å€¼çš„æ— åºé›†åˆï¼Œå­—å…¸æ˜¯é”®å€¼å…³è”çš„æ— åºé›†åˆã€‚



Swift ä¸­çš„æ•°ç»„ã€å­—å…¸å’Œé›†åˆï¼Œå¿…é¡»ä¸ºå®ƒä»¬æŒ‡å®šå¯ä»¥å­˜å‚¨çš„å€¼ç±»å‹å’Œé”®ç±»å‹ï¼Œä¸èƒ½å°†ä¸å±äºæŒ‡å®šç±»å‹çš„å€¼æ·»åŠ åˆ°è¿™ä¸‰ç§é›†åˆä¸­ã€‚



## é›†åˆç±»å‹çš„å¯å˜æ€§

åˆ›å»ºä¸€ä¸ªæ•°ç»„ã€å­—å…¸æˆ–è€…é›†åˆï¼Œå¦‚æœå°†å…¶åˆ†é…ç»™**å˜é‡**ï¼Œåˆ™åˆ›å»ºçš„é›†åˆå°†æ˜¯å¯å˜çš„ï¼›å¦‚æœå°†å…¶åˆ†é…ç»™**å¸¸é‡**ï¼Œåˆ™è¯¥é›†åˆæ˜¯ä¸å¯å˜çš„ã€‚



## æ•°ç»„

æ•°ç»„ç±»å‹çš„å£°æ˜è¯­æ³•å¦‚ä¸‹ï¼š

```swift
// valueType ä¸ºè¦å­˜å‚¨çš„å€¼ç±»å‹
Array<valueType>
```

æˆ–è€…ï¼š

```swift
// valueType ä¸ºè¦å­˜å‚¨çš„å€¼ç±»å‹
[valueType]
```



> Swift ä¸­çš„`Array`ç±»å‹æ˜¯å¯ä»¥æ¡¥æ¥åˆ° Foundation ä¸­çš„`NSArray`ç±»å‹çš„ï¼Œç›¸å…³ä¿¡æ¯å¯ä»¥æŸ¥çœ‹ [Bridging Between Dictionary and NSDictionary](https://developer.apple.com/documentation/swift/dictionary#2846239)ã€‚



### åˆ›å»ºç©ºæ•°ç»„

å¯ä»¥ä½¿ç”¨åˆå§‹åŒ–ç¨‹åºè¯­æ³•åˆ›å»ºç‰¹å®šç±»å‹çš„ç©ºæ•°ç»„ï¼š

```swift
var someInts = [Int]()
```

å¦‚æœä¸Šä¸‹æ–‡ä¿¡æ¯å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­æ³•æ¥åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ï¼š

```swift
someInts.append(3) // å°† 3 æ·»åŠ åˆ° someInts æ•°ç»„ä¸­

someInts = [] // ç°åœ¨ someInts æ˜¯ä¸€ä¸ªç©ºæ•°ç»„äº†
```



### åˆ›å»ºå…·æœ‰é»˜è®¤å€¼çš„æ•°ç»„

```swift
var threeDoubles = Array(repeating: 0.0, count: 3)
// threeDoubles is of type [Double], and equals [0.0, 0.0, 0.0]
```



### é€šè¿‡å°†ä¸¤ä¸ªæ•°ç»„ç›¸åŠ æ¥åˆ›å»ºæ–°æ•°ç»„

```swift
var anotherThreeDoubles = Array(repeating: 2.5, count: 3)
// anotherThreeDoubles is of type [Double], and equals [2.5, 2.5, 2.5]

var sixDoubles = threeDoubles + anotherThreeDoubles
// sixDoubles is inferred as [Double], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2.5]
```



### ä½¿ç”¨æ•°ç»„å­—é¢é‡åˆ›å»ºæ•°ç»„

```swift
var shoppingList: [String] = ["Eggs", "Milk"]
```

æˆ–è€…ï¼š

```swift
var shoppingList = ["Eggs", "Milk"]
```



### è®¿é—®å’Œä¿®æ”¹æ•°ç»„

é€šè¿‡è®¿é—®æ•°ç»„çš„`count`å±æ€§æ¥è·å–æ•°ç»„ä¸­å­˜å‚¨çš„å…ƒç´ ä¸ªæ•°ï¼š

```swift
print("The shopping list contains \(shoppingList.count) items.")
// Prints "The shopping list contains 2 items."
```

é€šè¿‡è®¿é—®æ•°ç»„çš„`isEmpty`å±æ€§æ¥åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºç©ºï¼š

```swift
if shoppingList.isEmpty {
    print("The shopping list is empty.")
} else {
    print("The shopping list isn't empty.")
}
// Prints "The shopping list isn't empty."
```

é€šè¿‡è°ƒç”¨æ•°ç»„çš„`append(_:)`æ–¹æ³•æ¥å‘æ•°ç»„æœ«å°¾æ·»åŠ æ–°å…ƒç´ ï¼š

```swift
shoppingList.append("Flour")
// shoppingList now contains 3 items, and someone is making pancakes
```

å¯ä»¥ä½¿ç”¨å¤åˆèµ‹å€¼è¿ç®—ç¬¦`+=`æ¥å°†ä¸€ä¸ªæ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ·»åŠ å¦ä¸€ä¸ªæ•°ç»„ä¸­å»ï¼š

```swift
shoppingList += ["Baking Powder"]
// shoppingList now contains 4 items
shoppingList += ["Chocolate Spread", "Cheese", "Butter"]
// shoppingList now contains 7 items
```

ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥ä»æ•°ç»„ä¸­æ£€ç´¢å€¼ï¼š

```swift
var firstItem = shoppingList[0]
// firstItem is equal to "Eggs"
```

ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥æ›´æ”¹ç»™å®šç´¢å¼•ä¸Šçš„å€¼ï¼Œæ•°ç»„çš„ç´¢å¼•ä»`0`å¼€å§‹ï¼š

```swift
shoppingList[0] = "Six eggs"
// the first item in the list is now equal to "Six eggs" rather than "Eggs"
```

è¿˜å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥æ›´æ”¹æŸä¸ªç´¢å¼•èŒƒå›´å†…æ‰€æœ‰ç´¢å¼•ä¸Šçš„å€¼ï¼Œå¦‚æœæ›¿æ¢å€¼æ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•°**å°äº**ç´¢å¼•èŒƒå›´å†…ç´¢å¼•çš„ä¸ªæ•°ï¼Œåˆ™ä¼šåˆ é™¤åç»­ç´¢å¼•ä¸Šçš„å€¼ï¼›å¦‚æœæ›¿æ¢å€¼æ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•°**å¤§äº**ç´¢å¼•èŒƒå›´å†…ç´¢å¼•çš„ä¸ªæ•°ï¼Œåˆ™ä¼šå°†å¤šä½™çš„å€¼æ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼š

```swift
shoppingList[4...6] = ["Bananas", "Apples"]
// shoppingList now contains 6 items
```

ä½¿ç”¨`insert(_:at:)`æ–¹æ³•æ¥åœ¨æ•°ç»„çš„æŒ‡å®šç´¢å¼•å¤„æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ ï¼š

```swift
shoppingList.insert("Maple Syrup", at: 0)
// shoppingList now contains 7 items
// "Maple Syrup" is now the first item in the list
```

ä½¿ç”¨`remove(at:)`æ–¹æ³•æ¥åˆ é™¤æ•°ç»„ä¸­æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ ï¼š

```swift
let mapleSyrup = shoppingList.remove(at: 0)
// the item that was at index 0 has just been removed
// shoppingList now contains 6 items, and no Maple Syrup
// the mapleSyrup constant is now equal to the removed "Maple Syrup" string
```



> **ä½¿ç”¨ä¸‹æ ‡è®¿é—®æˆ–è€…ä¿®æ”¹æ•°ç»„æ—¶ï¼Œç´¢å¼•å€¼ä¸èƒ½è¶…è¿‡æ•°ç»„çš„ç´¢å¼•è¾¹ç•Œï¼Œå¦åˆ™ä¼šè§¦å‘è¿è¡Œæ—¶é”™è¯¯ã€‚**



å¦‚æœæƒ³è¦åˆ é™¤æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`removeLast()`æ–¹æ³•ï¼Œè€Œä¸æ˜¯`removeï¼ˆat:ï¼‰`æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥é¿å…æŸ¥è¯¢æ•°ç»„çš„`count`å€¼ï¼š

```swift
let apples = shoppingList.removeLast()
// the last item in the array has just been removed
// shoppingList now contains 5 items, and no apples
// the apples constant is now equal to the removed "Apples" string
```



### æ•°ç»„è¿­ä»£

å¯ä»¥ä½¿ç”¨`for-in`å¾ªç¯æ¥éå†æ•°ç»„ä¸­çš„å€¼ï¼š

```swift
for item in shoppingList {
    print(item)
}
// Six eggs
// Milk
// Flour
// Baking Powder
// Bananas
```

å¦‚æœéœ€è¦æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•åŠå…¶å€¼ï¼Œè¯·ä½¿ç”¨`enumerated()`æ–¹æ³•è¿­ä»£æ•°ç»„ã€‚å¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œ`enumerated()`æ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªç”±å…ƒç´ ç´¢å¼•å’Œå…ƒç´ å€¼æ„æˆçš„å…ƒç»„ï¼š

```swift
for (index, value) in shoppingList.enumerated() {
    print("Item \(index + 1): \(value)")
}
// Item 1: Six eggs
// Item 2: Milk
// Item 3: Flour
// Item 4: Baking Powder
// Item 5: Bananas
```



## é›†åˆ

é›†åˆä¸­æ— åºå­˜å‚¨ç€ç›¸åŒç±»å‹çš„ä¸åŒå€¼ï¼Œå½“éœ€è¦ç¡®ä¿å­˜å‚¨çš„å€¼åªå‡ºç°ä¸€æ¬¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é›†åˆã€‚



> æœ‰å…³å°† Swift çš„`Set`ç±»å‹æ¡¥æ¥åˆ° Foundation ä¸­çš„`NSSet`ç±»å‹çš„ä¿¡æ¯ï¼Œè¯·å‚çœ‹ [Bridging Between Set and NSSet](https://developer.apple.com/documentation/swift/set#2845530)ã€‚



### ç”¨äºé›†åˆç±»å‹çš„å“ˆå¸Œå€¼

ä¸ºäº†å°†æŸç§ç±»å‹çš„å€¼å­˜å‚¨åˆ°é›†åˆä¸­ï¼Œè¯¥ç±»å‹å¿…é¡»æ˜¯å¯æ•£åˆ—çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥ç±»å‹éœ€è¦æä¾›ä¸€ç§æ–¹å¼æ¥è®¡ç®—è¯¥ç±»å‹å€¼çš„å“ˆå¸Œå€¼ï¼Œå“ˆå¸Œå€¼æ˜¯ä¸€ä¸ª`Int`ç±»å‹çš„å€¼ã€‚åœ¨æ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰æ—¶ï¼Œä¼šæ¯”è¾ƒä¸¤ä¸ªå€¼çš„å“ˆå¸Œå€¼æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœä¸¤ä¸ªå€¼æ˜¯ç›¸ç­‰çš„ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå€¼çš„å“ˆå¸Œå€¼å°±ä¸€å®šæ˜¯ç›¸ç­‰çš„ã€‚



Swift çš„æ‰€æœ‰åŸºæœ¬ç±»å‹ï¼ˆä¾‹å¦‚`String`ã€`Int`ã€`Double`å’Œ`Bool`ï¼‰é»˜è®¤éƒ½æ˜¯å¯æ•£åˆ—çš„ï¼Œå¯ä»¥ç”¨ä½œè®¾ç½®å€¼ç±»å‹æˆ–å­—å…¸é”®ç±»å‹ã€‚



> å¯ä»¥é€šè¿‡è®©è‡ªå®šä¹‰ç±»å‹å»éµå¾ª Swift æ ‡å‡†åº“ä¸­çš„`Hashable`åè®®æ¥ä½¿å…¶æ”¯æŒç”¨ä½œè®¾ç½®å€¼ç±»å‹å’Œå­—å…¸é”®ç±»å‹ã€‚æœ‰å…³å®ç°å¿…éœ€çš„`hash(into:)`æ–¹æ³•çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚çœ‹  [Hashable](https://developer.apple.com/documentation/swift/hashable)ã€‚



### é›†åˆç±»å‹è¯­æ³•

Swift ä¸­çš„é›†åˆç±»å‹è¢«å†™ä½œ`Set<Element>`ï¼Œ`Element`æ˜¯é›†åˆä¸­å­˜å‚¨çš„å€¼çš„ç±»å‹ã€‚



### åˆ›å»ºå’Œåˆå§‹åŒ–ç©ºé›†åˆ

```swift
var letters = Set<Character>()
print("letters is of type Set<Character> with \(letters.count) items.")
// Prints "letters is of type Set<Character> with 0 items."
```

æˆ–è€…ï¼Œå¦‚æœä¸Šä¸‹æ–‡å·²ç»æä¾›äº†ç±»å‹ä¿¡æ¯ï¼Œä¾‹å¦‚å‡½æ•°å‚æ•°æˆ–è€…å·²ç»è¾“å…¥çš„å˜é‡æˆ–å¸¸é‡ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç©ºæ•°ç»„å­—é¢é‡æ¥åˆ›å»ºä¸€ä¸ªç©ºé›†ï¼š

```swift
letters.insert("a")
// letters now contains 1 value of type Character
letters = []
// letters is now an empty set, but is still of type Set<Character>
```



### ä½¿ç”¨æ•°ç»„å­—é¢é‡æ¥åˆ›å»ºé›†åˆ

```swift
var favoriteGenres: Set<String> = ["Rock", "Classical", "Hip hop"]
// favoriteGenres has been initialized with three initial items
```

**ä½¿ç”¨æ•°ç»„å­—é¢é‡æ¥åˆ›å»ºé›†åˆæ—¶ï¼Œå¿…é¡»æ˜¾å¼å£°æ˜å˜é‡æˆ–å¸¸é‡çš„ç±»å‹ä¸º`Set`ç±»å‹ã€‚**ä¹Ÿå¯ä»¥ä¸æ˜¾å¼æŒ‡å®šå­˜å‚¨å€¼çš„ç±»å‹ï¼š

```swift
var favoriteGenres: Set = ["Rock", "Classical", "Hip hop"]
```



### è®¿é—®å’Œä¿®æ”¹é›†åˆ

ä½¿ç”¨`Set`çš„åªè¯»`count`å±æ€§æ¥æŸ¥æ‰¾é›†åˆä¸­å­˜å‚¨çš„å€¼ä¸ªæ•°ï¼š

```swift
print("I have \(favoriteGenres.count) favorite music genres.")
// Prints "I have 3 favorite music genres."
```

ä½¿ç”¨`Set`çš„`isEmpty`å±æ€§ï¼ˆ`Boolean`ç±»å‹ï¼‰æ¥åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºï¼š

```swift
if favoriteGenres.isEmpty {
    print("As far as music goes, I'm not picky.")
} else {
    print("I have particular music preferences.")
}
// Prints "I have particular music preferences."
```

ä½¿ç”¨`Set`çš„`insert(_:)`æ–¹æ³•æ¥å‘é›†åˆä¸­æ·»åŠ æ–°å€¼ï¼š

```swift
favoriteGenres.insert("Jazz")
// favoriteGenres now contains 4 items
```

ä½¿ç”¨`remove(_:)`æ–¹æ³•ä»é›†åˆä¸­ç§»é™¤æŸä¸ªå€¼ï¼Œå¦‚æœé›†åˆä¸­å­˜åœ¨è¯¥å€¼ï¼Œåˆ™è¯¥æ–¹æ³•æœ€ç»ˆä¼šè¿”å›ä¸€ä¸ªå·²ç§»é™¤è¯¥å€¼çš„é›†åˆï¼›å¦‚æœé›†åˆä¸­ä¸å­˜åœ¨è¿™ä¸ªå€¼ï¼Œåˆ™ä¼šè¿”å›`nil`ã€‚æˆ–è€…ï¼Œä½¿ç”¨`removeAll()`æ–¹æ³•æ¥ç§»é™¤é›†åˆä¸­çš„æ‰€æœ‰å€¼ã€‚

```swift
if let removedGenre = favoriteGenres.remove("Rock") {
    print("\(removedGenre)? I'm over it.")
} else {
    print("I never much cared for that.")
}
// Prints "Rock? I'm over it."
```

ä½¿ç”¨`contains(_:)`æ–¹æ³•æ¥æ£€æŸ¥é›†åˆä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªç‰¹å®šå€¼ï¼š

```swift
To check whether a set contains a particular item, use the contains(_:) method.

if favoriteGenres.contains("Funk") {
    print("I get up on the good foot.")
} else {
    print("It's too funky in here.")
}
// Prints "It's too funky in here."
```



### é›†åˆè¿­ä»£

å¯ä»¥ä½¿ç”¨`for-in`å¾ªç¯æ¥è¿­ä»£é›†åˆä¸­çš„å€¼ï¼š

```swift
for genre in favoriteGenres {
    print("\(genre)")
}
// Classical
// Jazz
// Hip hop
```

é›†åˆæ˜¯æ— åºçš„ï¼Œå¦‚æœæƒ³è¦æŒ‰ç…§ç‰¹å®šé¡ºåºå»éå†é›†åˆä¸­çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨`Set`çš„`sorted()`æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå°†é›†åˆä¸­çš„å€¼ä½¿ç”¨`<`è¿ç®—ç¬¦æ’åºåçš„æ•°ç»„ã€‚

```swift
for genre in favoriteGenres.sorted() {
    print("\(genre)")
}
// Classical
// Hip hop
// Jazz
```



## æ‰§è¡Œé›†åˆæ“ä½œ

### åŸºæœ¬é›†åˆæ“ä½œ

ä¸‹å›¾æè¿°äº†é›†åˆ a å’Œé›†åˆ bï¼Œé˜´å½±åŒºè¡¨ç¤ºå„ç§åŸºæœ¬é›†åˆæ“ä½œçš„ç»“æœï¼š

![åŸºæœ¬é›†åˆæ“ä½œç»“æœ.png](https://docs.swift.org/swift-book/_images/setVennDiagram_2x.png)

- ä½¿ç”¨`intersection(_:)`æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªé›†åˆå…±åŒå«æœ‰çš„å€¼çš„æ–°é›†åˆã€‚
- ä½¿ç”¨`symmetricDifference(_:)`æ–¹æ³•åˆ›å»ºä¸€ä¸ªå°†ä¸¤ä¸ªé›†åˆç»„åˆä¸€èµ·åå¹¶å»æ‰ä¸¤ä¸ªé›†åˆå…±åŒå«æœ‰çš„å€¼çš„æ–°é›†åˆã€‚
- ä½¿ç”¨`union(_:)`æ–¹æ³•åˆ›å»ºä¸€ä¸ªå°†ä¸¤ä¸ªé›†åˆç»„åˆåœ¨ä¸€èµ·åçš„æ–°é›†åˆã€‚
- ä½¿ç”¨`subtracting(_:)`æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªå»æ‰é›†åˆ a ä¸­çš„é›†åˆ b ä¹ŸåŒ…å«çš„å€¼çš„æ–°é›†åˆã€‚

```swift
let oddDigits: Set = [1, 3, 5, 7, 9]
let evenDigits: Set = [0, 2, 4, 6, 8]
let singleDigitPrimeNumbers: Set = [2, 3, 5, 7]

oddDigits.union(evenDigits).sorted()
// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
oddDigits.intersection(evenDigits).sorted()
// []
oddDigits.subtracting(singleDigitPrimeNumbers).sorted()
// [1, 9]
oddDigits.symmetricDifference(singleDigitPrimeNumbers).sorted()
// [1, 2, 9]
```



### é›†åˆå…³ç³»å’Œç›¸ç­‰

ä¸‹å›¾æè¿°äº†é›†åˆ aã€é›†åˆ b å’Œé›†åˆ cï¼Œé‡å åŒºåŸŸä»£è¡¨é›†åˆä¹‹é—´å…±äº«çš„å…ƒç´ ã€‚é›†åˆ aæ˜¯é›†åˆ b çš„è¶…é›†ï¼Œå› ä¸º a åŒ…å« b ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚åè¿‡æ¥è¯´ï¼Œé›†åˆ b æ˜¯é›†åˆ a çš„å­é›†ã€‚é›†åˆ b å’Œé›†åˆ cå½¼æ­¤ä¸ç›¸äº¤ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰å…±åŒçš„å…ƒç´ ã€‚

![é›†åˆå…³ç³»å’Œç›¸ç­‰.png](https://docs.swift.org/swift-book/_images/setEulerDiagram_2x.png)

- ä½¿ç”¨`==`è¿ç®—ç¬¦æ¥ç¡®å®šä¸¤ä¸ªé›†åˆæ˜¯å¦åŒ…å«æ‰€æœ‰ç›¸åŒçš„å€¼ã€‚
- ä½¿ç”¨`isSubset(of:)`æ–¹æ³•ç¡®å®šä¸€ä¸ªé›†åˆçš„æ‰€æœ‰å€¼æ˜¯å¦åŒ…å«åœ¨æŒ‡å®šçš„é›†åˆä¸­ã€‚
- ä½¿ç”¨`isSuperset(of:)`æ–¹æ³•ç¡®å®šä¸€ä¸ªé›†åˆæ˜¯å¦åŒ…å«æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å€¼ã€‚
- ä½¿ç”¨`isStrictSubset(of:)`æˆ–`isStrictSuperset(of:)`æ–¹æ³•ç¡®å®šä¸€ä¸ªé›†åˆæ˜¯å­é›†è¿˜æ˜¯è¶…é›†ï¼Œä½†ä¸ç­‰äºæŒ‡å®šé›†åˆã€‚
- ä½¿ç”¨`isDisjoint(with:)`æ–¹æ³•ç¡®å®šä¸¤ä¸ªé›†åˆæ˜¯å¦æ²¡æœ‰å…±åŒçš„å€¼ã€‚

```swift
let houseAnimals: Set = ["ğŸ¶", "ğŸ±"]
let farmAnimals: Set = ["ğŸ®", "ğŸ”", "ğŸ‘", "ğŸ¶", "ğŸ±"]
let cityAnimals: Set = ["ğŸ¦", "ğŸ­"]

houseAnimals.isSubset(of: farmAnimals)
// true
farmAnimals.isSuperset(of: houseAnimals)
// true
farmAnimals.isDisjoint(with: cityAnimals)
// true
```



## å­—å…¸

å­—å…¸ä¸­å­˜å‚¨ç€ç›¸åŒç±»å‹çš„é”®å’Œç›¸åŒç±»å‹çš„å€¼ï¼Œæ¯ä¸ªå€¼éƒ½ä¸ä¸€ä¸ªå”¯ä¸€çš„é”®ç›¸å…³è”ï¼Œé”®å……å½“å­—å…¸ä¸­æŸä¸ªå€¼çš„æ ‡è¯†ç¬¦ã€‚ä¸æ•°ç»„ä¸åŒï¼Œå­—å…¸ä¸­å­˜å‚¨çš„å€¼æ˜¯æ— åºçš„ã€‚



> Swift ä¸­çš„`Dictionary`ç±»å‹æ˜¯å¯ä»¥æ¡¥æ¥åˆ° Foundation ä¸­çš„`NSDictionary`ç±»çš„ï¼Œç›¸å…³ä¿¡æ¯å¯ä»¥æŸ¥çœ‹ [Bridging Between Dictionary and NSDictionary](https://developer.apple.com/documentation/swift/dictionary#2846239)ã€‚



### å­—å…¸ç±»å‹ç®€å†™è¯­æ³•

Swift å­—å…¸ç±»å‹çš„å®Œæ•´è¯­æ³•ä¸º`Dictionary<Key, Value>`ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç®€å†™ä¸º`[Key: Value]`ï¼Œ`Key`æ˜¯å­—å…¸ key çš„ç±»å‹ï¼Œ`Value`æ˜¯ key å¯¹åº”çš„å€¼çš„ç±»å‹ã€‚



### åˆ›å»ºç©ºå­—å…¸

ä½¿ç”¨åˆå§‹åŒ–è¯­æ³•åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸ï¼š

```swift
var namesOfIntegers: [Int: String] = [:]
// namesOfIntegers is an empty [Int: String] dictionary
```

æˆ–è€…ï¼š

```swift
namesOfIntegers[16] = "sixteen"
// namesOfIntegers now contains 1 key-value pair
namesOfIntegers = [:]
// namesOfIntegers is once again an empty dictionary of type [Int: String]
```



### ä½¿ç”¨å­—å…¸å­—é¢é‡åˆ›å»ºå­—å…¸

```swift
// [key 1: value 1, key 2: value 2, key 3: value 3]

var airports: [String: String] = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]
```

å¦‚æœå­—å…¸ä¸­çš„æ‰€æœ‰ key çš„ç±»å‹æ˜¯ä¸€è‡´çš„ï¼Œå¹¶ä¸”æ‰€æœ‰ value çš„ç±»å‹ä¹Ÿæ˜¯ä¸€è‡´çš„ï¼Œåˆ™ä¸ç”¨æ˜¾å¼å£°æ˜`airports`å˜é‡ä¸ºå­—å…¸ç±»å‹ï¼ŒSwift ä¼šè‡ªåŠ¨æ¨æ–­ä¸ºå­—å…¸ç±»å‹ï¼š

```swift
var airports = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]
```



### è®¿é—®å’Œä¿®æ”¹å­—å…¸

è®¿é—®`count`å±æ€§æ¥æŸ¥æ‰¾å­—å…¸ä¸­é”®å€¼å¯¹çš„æ•°é‡ï¼š

```swift
print("The airports dictionary contains \(airports.count) items.")
// Prints "The airports dictionary contains 2 items."
```

è®¿é—®`isEmpty`å±æ€§æ¥åˆ¤æ–­è¯¥å­—å…¸æ˜¯å¦æ˜¯ä¸€ä¸ªç©ºå­—å…¸ï¼š

```swift
if airports.isEmpty {
    print("The airports dictionary is empty.")
} else {
    print("The airports dictionary isn't empty.")
}
// Prints "The airports dictionary isn't empty."
```

å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥å‘å­—å…¸ä¸­æ·»åŠ æ–°çš„é”®å€¼å¯¹ï¼š

```swift
airports["LHR"] = "London"
// the airports dictionary now contains 3 items
```

æˆ–è€…ä½¿ç”¨ä¸‹æ ‡è¯­æ³•æ¥æ›´æ”¹ä¸æŒ‡å®š key å…³è”çš„å€¼ï¼š

```swift
airports["LHR"] = "London Heathrow"
// the value for "LHR" has been changed to "London Heathrow"
```

ä¹Ÿå¯ä»¥ä½¿ç”¨`updateValue(_:forKey:)`æ–¹æ³•æ¥å‘å­—å…¸ä¸­æ·»åŠ æ–°çš„é”®å€¼å¯¹æˆ–è€…æ›´æ”¹ä¸æŒ‡å®š key å…³è”çš„å€¼ï¼Œä¸ä¸‹æ ‡è¯­æ³•ä¸åŒï¼Œ`updateValue(_:forKey:)`æ–¹æ³•è¿˜ä¼šè¿”å›ä¸æŒ‡å®š key å…³è”çš„æ—§å€¼ï¼Œè¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªå¯é€‰çš„å­—å…¸å€¼ç±»å‹ï¼Œå¦‚æœåœ¨æ›´æ–°ä¹‹å‰ï¼Œå­—å…¸ä¸­å­˜åœ¨æŒ‡å®š key çš„æ—§å€¼ï¼Œåˆ™æ­¤å¯é€‰å€¼åŒ…å«æŒ‡å®š key çš„æ—§å€¼ï¼›å¦‚æœä¸å­˜åœ¨æ—§å€¼ï¼Œåˆ™ä¸º`nil`ï¼š

```swift
if let oldValue = airports.updateValue("Dublin Airport", forKey: "DUB") {
    print("The old value for DUB was \(oldValue).")
}
// Prints "The old value for DUB was Dublin."
```

 è¿˜å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•ä»å­—å…¸ä¸­æ£€ç´¢ä¸æŒ‡å®š key å…³è”çš„å€¼ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªå¯é€‰çš„å­—å…¸å€¼ç±»å‹ï¼š

```swift
if let airportName = airports["DUB"] {
    print("The name of the airport is \(airportName).")
} else {
    print("That airport isn't in the airports dictionary.")
}
// Prints "The name of the airport is Dublin Airport."
```

å¯ä»¥ä½¿ç”¨ä¸‹æ ‡è¯­æ³•å°†ä¸æŒ‡å®š key å…³è”çš„å€¼è®¾ä¸º`nil`æ¥ä»å­—å…¸ä¸­åˆ é™¤é”®å€¼å¯¹ï¼š

```swift
airports["APL"] = "Apple International"
// "Apple International" isn't the real airport for APL, so delete it
airports["APL"] = nil
// APL has now been removed from the dictionary
```

æˆ–è€…ï¼Œä½¿ç”¨`removeValue(forKey:)`æ–¹æ³•ä»å­—å…¸ä¸­åˆ é™¤é”®å€¼å¯¹ï¼Œæ­¤æ–¹æ³•ä¼šè¿”å›åˆ é™¤çš„å€¼ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼Œå¦‚æœä¸å­˜åœ¨å€¼ï¼Œåˆ™ä¼šè¿”å›`nil`ï¼š

```swift
if let removedValue = airports.removeValue(forKey: "DUB") {
    print("The removed airport's name is \(removedValue).")
} else {
    print("The airports dictionary doesn't contain a value for DUB.")
}
// Prints "The removed airport's name is Dublin Airport."
```



### å­—å…¸è¿­ä»£

å¯ä»¥ä½¿ç”¨`for-in`å¾ªç¯æ¥éå†å­—å…¸ä¸­çš„é”®å€¼å¯¹ï¼Œæ¯æ¬¡å¾ªç¯ä¼šå°†å­—å…¸ä¸­çš„ä¸€ä¸ªé”®å€¼å¯¹ä½œä¸ºä¸€ä¸ª`(key, value)`å…ƒç»„è¿”å›ï¼Œæˆ‘ä»¬å¯ä»¥è®²å…ƒç»„çš„æˆå‘˜åˆ†è§£ä¸ºå•ç‹¬çš„ä¸´æ—¶å¸¸é‡æˆ–è€…å˜é‡ï¼š

```swift
for (airportCode, airportName) in airports {
    print("\(airportCode): \(airportName)")
}
// LHR: London Heathrow
// YYZ: Toronto Pearson
```

è¿˜å¯ä»¥é€šè¿‡è®¿é—®å­—å…¸çš„`keys`å±æ€§æ¥éå†å­—å…¸ä¸­çš„æ‰€æœ‰ keyï¼Œé€šè¿‡è®¿é—®å­—å…¸çš„`values`å±æ€§æ¥éå†å­—å…¸ä¸­çš„æ‰€æœ‰å€¼ï¼š

```swift
for airportCode in airports.keys {
    print("Airport code: \(airportCode)")
}
// Airport code: LHR
// Airport code: YYZ

for airportName in airports.values {
    print("Airport name: \(airportName)")
}
// Airport name: London Heathrow
// Airport name: Toronto Pearson
```



# æ§åˆ¶æµ



## for-in å¾ªç¯

éå†æ•°ç»„ï¼š

```swift
let names = ["Anna", "Alex", "Brian", "Jack"]
for name in names {
    print("Hello, \(name)!")
}
// Hello, Anna!
// Hello, Alex!
// Hello, Brian!
// Hello, Jack!
```

éå†å­—å…¸ï¼š

```swift
let numberOfLegs = ["spider": 8, "ant": 6, "cat": 4]
for (animalName, legCount) in numberOfLegs {
    print("\(animalName)s have \(legCount) legs")
}
// cats have 4 legs
// ants have 6 legs
// spiders have 8 legs
```

éå†æ•°å­—åŒºé—´ï¼Œä¼šè¿”å›åŒºé—´å†…çš„æ¯ä¸ªæ•°å­—ï¼š

```swift
for index in 1...5 {
    print("\(index) times 5 is \(index * 5)")
}
// 1 times 5 is 5
// 2 times 5 is 10
// 3 times 5 is 15
// 4 times 5 is 20
// 5 times 5 is 25
```

åœ¨éå†**å­—ç¬¦ä¸²ã€æ•°ç»„ã€å­—å…¸ã€é›†åˆæˆ–è€…æ•°å­—åŒºé—´**æ—¶ï¼Œå¦‚æœè¿”å›å€¼ä¸æ˜¯å¿…éœ€çš„ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`_`æ¥ä»£æ›¿å¾ªç¯å˜é‡ï¼Œè¿™ä¼šå¯¼è‡´å•ä¸ªå€¼è¢«å¿½ç•¥ï¼Œå¹¶ä¸”åœ¨å¾ªç¯çš„æ¯æ¬¡è¿­ä»£æœŸé—´ä¸æä¾›å¯¹å½“å‰å€¼çš„è®¿é—®ï¼š

```swift
let minutes = 60
for tickMark in 0..<minutes {
    // render the tick mark each minute (60 times)
}
```

æŸäº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è·¨æ­¥æ‰§è¡ŒæŸäº›æ“ä½œï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨`for-in`å¾ªç¯é…åˆ`stride(from:to:by:)`æ–¹æ³•ï¼ˆå¼€åŒºé—´ï¼‰æˆ–è€…`stride(from:through:by:)`æ–¹æ³•ï¼ˆé—­åŒºé—´ï¼‰æ¥åˆ†æ®µåŒºé—´ï¼š

```swift
let minuteInterval = 5
for tickMark in stride(from: 0, to: minutes, by: minuteInterval) {
    // render the tick mark every 5 minutes (0, 5, 10, 15 ... 45, 50, 55)
}


let hours = 12
let hourInterval = 3
for tickMark in stride(from: 3, through: hours, by: hourInterval) {
    // render the tick mark every 3 hours (3, 6, 9, 12)
}
```



## while å¾ªç¯

```swift
var square = 0
var diceRoll = 0
while square < finalSquare {
    // roll the dice
    diceRoll += 1
    if diceRoll == 7 { diceRoll = 1 }
    // move by the rolled amount
    square += diceRoll
    if square < board.count {
        // if we're still on the board, move up or down for a snake or a ladder
        square += board[square]
    }
}
print("Game over!")
```



## repeat-while å¾ªç¯

ä¸`while`å¾ªç¯ä¸åŒï¼Œ`repeat-while `å¾ªç¯ä¼šå…ˆæ‰§è¡Œä¸€æ¬¡å¾ªç¯ï¼Œç„¶åå†åˆ¤æ–­å¾ªç¯æ¡ä»¶ã€‚

```swift
repeat {
    // move up or down for a snake or ladder
    square += board[square]
    // roll the dice
    diceRoll += 1
    if diceRoll == 7 { diceRoll = 1 }
    // move by the rolled amount
    square += diceRoll
} while square < finalSquare
print("Game over!")
```



## æ¡ä»¶è¯­å¥

### if è¯­å¥

```swift
temperatureInFahrenheit = 90
if temperatureInFahrenheit <= 32 {
    print("It's very cold. Consider wearing a scarf.")
} else if temperatureInFahrenheit >= 86 {
    print("It's really warm. Don't forget to wear sunscreen.")
} else {
    print("It's not that cold. Wear a t-shirt.")
}
// Prints "It's really warm. Don't forget to wear sunscreen."
```



### switch-case è¯­å¥

```swift
let someCharacter: Character = "z"
switch someCharacter {
case "a":
    print("The first letter of the alphabet")
case "z":
    print("The last letter of the alphabet")
default:
    print("Some other character")
}
// Prints "The last letter of the alphabet"
```

#### åŒºé—´åŒ¹é…

```swift
let approximateCount = 62
let countedThings = "moons orbiting Saturn"
let naturalCount: String
switch approximateCount {
case 0:
    naturalCount = "no"
case 1..<5:
    naturalCount = "a few"
case 5..<12:
    naturalCount = "several"
case 12..<100:
    naturalCount = "dozens of"
case 100..<1000:
    naturalCount = "hundreds of"
default:
    naturalCount = "many"
}
print("There are \(naturalCount) \(countedThings).")
// Prints "There are dozens of moons orbiting Saturn."
```

#### ä½¿ç”¨å…ƒç»„ä½œä¸ºæ¡ä»¶å€¼

```swift
let somePoint = (1, 1)
switch somePoint {
case (0, 0):
    print("\(somePoint) is at the origin")
case (_, 0):
    print("\(somePoint) is on the x-axis")
case (0, _):
    print("\(somePoint) is on the y-axis")
case (-2...2, -2...2):
    print("\(somePoint) is inside the box")
default:
    print("\(somePoint) is outside of the box")
}
// Prints "(1, 1) is inside the box"
```

![coordinateGraphSimple_2x.png](https://docs.swift.org/swift-book/_images/coordinateGraphSimple_2x.png)

#### å€¼ç»‘å®š

```swift
let anotherPoint = (2, 0)
switch anotherPoint {
case (let x, 0):
    print("on the x-axis with an x value of \(x)")
case (0, let y):
    print("on the y-axis with a y value of \(y)")
case let (x, y):
    print("somewhere else at (\(x), \(y))")
}
// Prints "on the x-axis with an x value of 2"
```

#### where

`switch-case`è¯­å¥ è¿˜å¯ä»¥ä½¿ç”¨ `where`å­å¥æ¥æ£€æŸ¥é™„åŠ æ¡ä»¶ï¼š

```swift
let yetAnotherPoint = (1, -1)
switch yetAnotherPoint {
case let (x, y) where x == y:
    print("(\(x), \(y)) is on the line x == y")
case let (x, y) where x == -y:
    print("(\(x), \(y)) is on the line x == -y")
case let (x, y):
    print("(\(x), \(y)) is just some arbitrary point")
}
// Prints "(1, -1) is on the line x == -y"
```

#### å¤åˆ case

```swift
let someCharacter: Character = "e"
switch someCharacter {
case "a", "e", "i", "o", "u":
    print("\(someCharacter) is a vowel")
case "b", "c", "d", "f", "g", "h", "j", "k", "l", "m",
     "n", "p", "q", "r", "s", "t", "v", "w", "x", "y", "z":
    print("\(someCharacter) is a consonant")
default:
    print("\(someCharacter) isn't a vowel or a consonant")
}
// Prints "e is a vowel"


let stillAnotherPoint = (9, 0)
switch stillAnotherPoint {
case (let distance, 0), (0, let distance):
    print("On an axis, \(distance) from the origin")
default:
    print("Not on an axis")
}
// Prints "On an axis, 9 from the origin"
```



## æ§åˆ¶è½¬ç§»è¯­å¥

### continue

åœ¨å¾ªç¯è¯­å¥ä¸­ä½¿ç”¨`continue`è¯­å¥æ—¶ï¼Œä¼šç«‹å³è·³å‡ºæœ¬æ¬¡å¾ªç¯ï¼Œå¹¶**ç»§ç»­æ‰§è¡Œ**åç»­å¾ªç¯ï¼š

```swift
let puzzleInput = "great minds think alike"
var puzzleOutput = ""
let charactersToRemove: [Character] = ["a", "e", "i", "o", "u", " "]
for character in puzzleInput {
    if charactersToRemove.contains(character) {
        continue
    }
    puzzleOutput.append(character)
}
print(puzzleOutput)
// Prints "grtmndsthnklk"
```

### break

åœ¨å¾ªç¯è¯­å¥ä¸­ä½¿ç”¨`break`è¯­å¥æ—¶ï¼Œä¼šç«‹å³è·³å‡ºæœ¬æ¬¡å¾ªç¯ï¼Œå¹¶ä¸”**ä¸å†æ‰§è¡Œ**åç»­å¾ªç¯ã€‚



åœ¨`switch-case`è¯­å¥ä¸­ä½¿ç”¨`break`è¯­å¥æ—¶ï¼Œä¼šç«‹å³ç»“æŸæ‰§è¡Œ`switch-case`è¯­å¥ï¼š

```swift
let numberSymbol: Character = "ä¸‰"  // Chinese symbol for the number 3
var possibleIntegerValue: Int?
switch numberSymbol {
case "1", "Ù¡", "ä¸€", "à¹‘":
    possibleIntegerValue = 1
case "2", "Ù¢", "äºŒ", "à¹’":
    possibleIntegerValue = 2
case "3", "Ù£", "ä¸‰", "à¹“":
    possibleIntegerValue = 3
case "4", "Ù¤", "å››", "à¹”":
    possibleIntegerValue = 4
default:
    break
}
if let integerValue = possibleIntegerValue {
    print("The integer value of \(numberSymbol) is \(integerValue).")
} else {
    print("An integer value couldn't be found for \(numberSymbol).")
}
// Prints "The integer value of ä¸‰ is 3."
```



### fallthrough

`swift-case`è¯­å¥çš„æŸä¸ª`case`è¯­å¥æ‰§è¡Œå®Œæ¯•åï¼Œå°±ä¸ä¼šå†æ‰§è¡Œä¸‹ä¸€ä¸ª`case`æˆ–è€…`default`è¯­å¥äº†ã€‚å¦‚æœæƒ³è¦æŸä¸ª`case`è¯­å¥æ‰§è¡Œå®Œæ¯•åç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ª`case`æˆ–è€…`default`è¯­å¥ä¸­çš„ä»£ç ï¼Œåˆ™å¯ä»¥åœ¨è¯¥`case`è¯­å¥ä¸­ä½¿ç”¨`Fallthrough`è¯­å¥ï¼Œ**è¯¥è¯­å¥ä¼šä½¿ä»£ç æ‰§è¡Œç›´æ¥ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª`case`è¯­å¥ä¸­çš„ä»£ç ï¼Œè€Œä¸ä¼šå»åˆ¤æ–­ä¸‹ä¸€ä¸ª`case`æˆ–è€…`default`è¯­å¥çš„æ¡ä»¶æ˜¯å¦ä¸ºçœŸ**ï¼š

```swift
let integerToDescribe = 5
var description = "The number \(integerToDescribe) is"
switch integerToDescribe {
case 2, 3, 5, 7, 11, 13, 17, 19:
    description += " a prime number, and also"
    fallthrough
default:
    description += " an integer."
}
print(description)
// Prints "The number 5 is a prime number, and also an integer."
```



### æ ‡ç­¾

åœ¨æŸä¸ªå¾ªç¯å†…éƒ¨åµŒå¥—ä½¿ç”¨`switch-case`è¯­å¥æˆ–è€…å…¶ä»–å¾ªç¯æ—¶ï¼Œä¸ºäº†æ˜ç¡®`continue`æˆ–è€…`break`è¯­å¥çš„ä½œç”¨å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨æ ‡ç­¾æ¥æ ‡è®°å¾ªç¯ï¼ˆå¦‚æœæ²¡æœ‰ä½¿ç”¨æ ‡ç­¾æ ‡è®°å¾ªç¯ï¼Œåˆ™é»˜è®¤ä½œç”¨å¯¹è±¡ä¸º`continue`æˆ–è€…`break`è¯­å¥æ‰€åœ¨çš„è¿™å±‚å¾ªç¯ï¼‰ï¼š

```swift
loopA: for i in 2...6 {
            
	print("loop A --- \(i)")
            
	loopB: for j in 1...7 {
    
    print("loop B --- \(j)")
    
		if j == 2 {
                    
			break loopA
		}
	}
}
```



### guard

`guard`è¯­å¥ä¸`if`è¯­å¥ç±»ä¼¼ï¼Œä½†`guard`è¯­å¥è¦æ±‚æ¡ä»¶å¿…é¡»ä¸ºçœŸï¼Œä»¥ä¾¿æ‰§è¡Œ`guard`è¯­å¥ä¹‹åçš„ä»£ç ã€‚ä¸`if`è¯­å¥ä¸åŒçš„æ˜¯ï¼Œ`guard`è¯­å¥æ€»æ˜¯åŒ…å«ä¸€ä¸ª`else`å­å¥ã€‚å¦‚æœ`guard`è¯­å¥çš„æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä¼šæ‰§è¡Œ`else`å­å¥ä¸­çš„ä»£ç ã€‚

```swift
func greet(person: [String: String]) {
    guard let name = person["name"] else {
        return
    }

    print("Hello \(name)!")

    guard let location = person["location"] else {
        print("I hope the weather is nice near you.")
        return
    }

    print("I hope the weather is nice in \(location).")
}

greet(person: ["name": "John"])
// Prints "Hello John!"
// Prints "I hope the weather is nice near you."
greet(person: ["name": "Jane", "location": "Cupertino"])
// Prints "Hello Jane!"
// Prints "I hope the weather is nice in Cupertino."
```

ä¸ä½¿ç”¨`if`è¯­å¥è¿›è¡Œç›¸åŒçš„æ£€æŸ¥ç›¸æ¯”ï¼Œä½¿ç”¨`guard`è¯­å¥å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚



## æ£€æŸ¥ API å¯ç”¨æ€§

```swift
if #available(iOS 10, macOS 10.12, *) {
    // Use iOS 10 APIs on iOS, and use macOS 10.12 APIs on macOS
} else {
    // Fall back to earlier iOS and macOS APIs
}
```





# å‡½æ•°



## å®šä¹‰å’Œè°ƒç”¨å‡½æ•°

å®šä¹‰å‡½æ•°æ—¶ï¼Œéœ€è¦ä½¿ç”¨`func`å…³é”®å­—ä½œä¸ºå‰ç¼€ï¼Œåé¢æ˜¯å‡½æ•°åï¼Œå‡½æ•°ååé¢æ˜¯`()`ï¼Œ`()`å·å†…åŒ…å«å‡½æ•°çš„å‚æ•°ï¼Œ`()`å·æ˜¯`->`ï¼Œ`->`åé¢æ˜¯è¿”å›å€¼ç±»å‹ã€‚åœ¨ä»¥ä¸‹ä»£ç ä¸­ï¼Œ`greet`æ˜¯å‡½æ•°åï¼Œ`person`æ˜¯å‚æ•°åç§°ï¼Œ`:`åé¢æ˜¯å‚æ•°ç±»å‹ï¼š

```swift
func greet(person: String) -> String {
    let greeting = "Hello, " + person + "!"
    return greeting
}
```

è°ƒç”¨å‡½æ•°ï¼š

```swift
greet(person: "Anna")
```

åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œ`greet`æ˜¯å‡½æ•°åç§°ï¼Œ`person`æ˜¯å‚æ•°æ ‡ç­¾ï¼ˆæœªæ˜¾å¼æŒ‡å®šå‚æ•°çš„æ ‡ç­¾æ—¶ï¼Œé»˜è®¤ä½¿ç”¨å‚æ•°çš„åç§°ä½œä¸ºèµ·æ ‡ç­¾ï¼‰ã€‚



### æ²¡æœ‰å‚æ•°çš„å‡½æ•°

```swift
func sayHelloWorld() -> String {
    return "hello, world"
}
print(sayHelloWorld())
// Prints "hello, world"
```



### å…·æœ‰å¤šä¸ªå‚æ•°çš„å‡½æ•°

```swift
func greet(person: String, alreadyGreeted: Bool) -> String {
    if alreadyGreeted {
        return greetAgain(person: person)
    } else {
        return greet(person: person)
    }
}
print(greet(person: "Tim", alreadyGreeted: true))
// Prints "Hello again, Tim!"
```



### æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°

```swift
func greet(person: String) {
    print("Hello, \(person)!")
}
greet(person: "Dave")
// Prints "Hello, Dave!"
```



### å…·æœ‰å¤šä¸ªè¿”å›å€¼çš„å‡½æ•°

å¯ä»¥ä½¿ç”¨å…ƒç»„ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œä»¥ä¾¿å°†å¤šä¸ªè¿”å›å€¼ä½œä¸ºä¸€ä¸ªå¤åˆå€¼è¿”å›ã€‚

```swift
func minMax(array: [Int]) -> (min: Int, max: Int) {
    var currentMin = array[0]
    var currentMax = array[0]
    for value in array[1..<array.count] {
        if value < currentMin {
            currentMin = value
        } else if value > currentMax {
            currentMax = value
        }
    }
    return (currentMin, currentMax)
}

```

### è¿”å›å€¼ä¸ºå¯é€‰ç±»å‹çš„å‡½æ•°

```swift
func minMax(array: [Int]) -> (min: Int, max: Int)? {
    if array.isEmpty { return nil }
    var currentMin = array[0]
    var currentMax = array[0]
    for value in array[1..<array.count] {
        if value < currentMin {
            currentMin = value
        } else if value > currentMax {
            currentMax = value
        }
    }
    return (currentMin, currentMax)
}
```



## å‡½æ•°å‚æ•°æ ‡ç­¾å’Œå‚æ•°åç§°

æ¯ä¸ªå‡½æ•°å‚æ•°éƒ½æœ‰**å‚æ•°æ ‡ç­¾**å’Œ**å‚æ•°åç§°**ï¼Œè°ƒç”¨å‡½æ•°æ—¶ä½¿ç”¨**å‚æ•°æ ‡ç­¾**ï¼Œæ¯ä¸ªå‚æ•°éƒ½å†™åœ¨å‡½æ•°è°ƒç”¨ä¸­ï¼Œå‰é¢æœ‰**å‚æ•°æ ‡ç­¾**ã€‚**å‚æ•°åç§°**ç”¨äºå‡½æ•°çš„å®ç°ã€‚**é»˜è®¤æƒ…å†µä¸‹ï¼Œå‚æ•°ä½¿ç”¨å…¶å‚æ•°åç§°ä½œä¸ºå‚æ•°æ ‡ç­¾ã€‚**



### æŒ‡å®šå‚æ•°æ ‡ç­¾

```swift
func greet(person: String, from hometown: String) -> String {
    return "Hello \(person)!  Glad you could visit from \(hometown)."
}
print(greet(person: "Bill", from: "Cupertino"))
// Prints "Hello Bill!  Glad you could visit from Cupertino."
```



### çœç•¥å‚æ•°æ ‡ç­¾

å¦‚æœä¸æƒ³è¦å‚æ•°çš„å‚æ•°æ ‡ç­¾ï¼Œåˆ™å¯ä»¥åœ¨å‚æ•°åç§°ä¹‹å‰ä½¿ç”¨`_`æ¥ä»£æ›¿å‚æ•°æ ‡ç­¾ï¼š

```swift
func someFunction(_ firstParameterName: Int, secondParameterName: Int) {
    // In the function body, firstParameterName and secondParameterName
    // refer to the argument values for the first and second parameters.
}
someFunction(1, secondParameterName: 2)
```



### é»˜è®¤å‚æ•°å€¼

å¯ä»¥é€šè¿‡åœ¨å‚æ•°ç±»å‹åä¸ºå‚æ•°åˆ†é…å€¼æ¥ä¸ºå‡½æ•°ä¸­çš„ä»»ä½•å‚æ•°å®šä¹‰*é»˜è®¤å€¼*ã€‚å¦‚æœå®šä¹‰äº†é»˜è®¤å€¼ï¼Œåˆ™å¯ä»¥åœ¨è°ƒç”¨å‡½æ•°æ—¶çœç•¥è¯¥å‚æ•°ã€‚

```swift
func someFunction(parameterWithoutDefault: Int, parameterWithDefault: Int = 12) {
    // If you omit the second argument when calling this function, then
    // the value of parameterWithDefault is 12 inside the function body.
}
someFunction(parameterWithoutDefault: 3, parameterWithDefault: 6) // parameterWithDefault is 6
someFunction(parameterWithoutDefault: 4) // parameterWithDefault is 12
```



### å¯å˜å‚æ•°

å¯ä»¥ä½¿ç”¨å¯å˜å‚æ•°æ¥æŒ‡å®šè°ƒç”¨å‡½æ•°æ—¶å¯ä»¥ä¼ é€’ä¸åŒæ•°é‡çš„è¾“å…¥å€¼ï¼Œé€šè¿‡åœ¨å‚æ•°çš„ç±»å‹ååŠ ä¸Š`...`æ¥ç¼–å†™å¯å˜å‚æ•°ï¼š

```swift
func arithmeticMean(_ numbers: Double...) -> Double {
    var total: Double = 0
    for number in numbers {
        total += number
    }
    return total / Double(numbers.count)
}
arithmeticMean(1, 2, 3, 4, 5)
// returns 3.0, which is the arithmetic mean of these five numbers
arithmeticMean(3, 8.25, 18.75)
// returns 10.0, which is the arithmetic mean of these three numbers
```

**åœ¨å¯å˜å‚æ•°ä¹‹åçš„ç¬¬ä¸€ä¸ªå…¶ä»–å‚æ•°å¿…é¡»å…·æœ‰å‚æ•°æ ‡ç­¾ã€‚**



### è¾“å…¥è¾“å‡ºå‚æ•°

å‡½æ•°çš„å‚æ•°é»˜è®¤ä¸ºå¸¸é‡ï¼Œåœ¨å‡½æ•°ä¸»ä½“å†…æ›´æ”¹å‡½æ•°å‚æ•°çš„å€¼ä¼šå¯¼è‡´ç¼–è¯‘æ—¶é”™è¯¯ã€‚å¦‚æœæƒ³è¦åœ¨å‡½æ•°ä¸»ä½“å†…ä¿®æ”¹å‚æ•°çš„å€¼ï¼Œå¹¶ä¸”å¸Œæœ›è¿™äº›æ›´æ”¹åœ¨å‡½æ•°è°ƒç”¨ç»“æŸåæŒç»­å­˜åœ¨ï¼Œåˆ™å¯ä»¥å°†å‚æ•°å®šä¹‰ä¸º**è¾“å…¥è¾“å‡ºå‚æ•°**ã€‚é€šè¿‡åœ¨å‚æ•°ç±»å‹ä¹‹å‰åŠ ä¸Š`inout`å…³é”®å­—æ¥ç¼–å†™ä¸€ä¸ªè¾“å…¥è¾“å‡ºå‚æ•°ï¼š

```swift
func swapTwoInts(_ a: inout Int, _ b: inout Int) {
    let temporaryA = a
    a = b
    b = temporaryA
}

var someInt = 3
var anotherInt = 107
swapTwoInts(&someInt, &anotherInt)
print("someInt is now \(someInt), and anotherInt is now \(anotherInt)")
// Prints "someInt is now 107, and anotherInt is now 3"
```

**æ³¨æ„ï¼šè¾“å…¥è¾“å‡ºå‚æ•°ä¸èƒ½è®¾ç½®é»˜è®¤å€¼ã€‚**



## å‡½æ•°ç±»å‹

æ¯ä¸ªå‡½æ•°éƒ½æœ‰ç‰¹å®šçš„å‡½æ•°ç±»å‹ï¼Œç”±å‡½æ•°çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ç»„æˆã€‚

```swift
func addTwoInts(_ a: Int, _ b: Int) -> Int {
    return a + b
}
func multiplyTwoInts(_ a: Int, _ b: Int) -> Int {
    return a * b
}
```

ä»¥ä¸Šä»£ç ä¸­ä¸¤ä¸ªå‡½æ•°çš„ç±»å‹éƒ½æ˜¯`(Int, Int) -> Int`ã€‚



### ä½¿ç”¨å‡½æ•°ç±»å‹

å¯ä»¥å°†å¸¸é‡æˆ–è€…å˜é‡å®šä¹‰ä¸ºå‡½æ•°ç±»å‹ï¼š

```swift
var mathFunction: (Int, Int) -> Int = addTwoInts
```

ç„¶åå°±å¯ä»¥è°ƒç”¨åä¸º`mathFunction`çš„å‡½æ•°äº†ï¼š

```swift
print("Result: \(mathFunction(2, 3))")
// Prints "Result: 5"

mathFunction = multiplyTwoInts
print("Result: \(mathFunction(2, 3))")
// Prints "Result: 6"
```

ä¸ä»»ä½•å…¶ä»–ç±»å‹ä¸€æ ·ï¼Œå°†å‡½æ•°åˆ†é…ç»™å¸¸é‡æˆ–è€…å˜é‡æ—¶ï¼Œswift ä¼šè‡ªåŠ¨æ¨æ–­å‡½æ•°ç±»å‹ï¼š

```swift
let anotherMathFunction = addTwoInts
// anotherMathFunction is inferred to be of type (Int, Int) -> Int
```



### å‡½æ•°ç±»å‹ä½œä¸ºå‡½æ•°çš„å‚æ•°ç±»å‹

```swift
func printMathResult(_ mathFunction: (Int, Int) -> Int, _ a: Int, _ b: Int) {
    print("Result: \(mathFunction(a, b))")
}
printMathResult(addTwoInts, 3, 5)
// Prints "Result: 8"
```



### å‡½æ•°ç±»å‹ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ç±»å‹

```swift
func stepForward(_ input: Int) -> Int {
    return input + 1
}
func stepBackward(_ input: Int) -> Int {
    return input - 1
}

func chooseStepFunction(backward: Bool) -> (Int) -> Int {
    return backward ? stepBackward : stepForward
}

var currentValue = 3
let moveNearerToZero = chooseStepFunction(backward: currentValue > 0)
// moveNearerToZero now refers to the stepBackward() function

print("Counting to zero:")
// Counting to zero:
while currentValue != 0 {
    print("\(currentValue)... ")
    currentValue = moveNearerToZero(currentValue)
}
print("zero!")
// 3...
// 2...
// 1...
// zero!
```



## åµŒå¥—å‡½æ•°

é™¤äº†å¯ä»¥å®šä¹‰å…¨å±€å‡½æ•°ä¹‹å¤–ï¼ŒSwift è¿˜æ”¯æŒåœ¨å‡½æ•°çš„ä¸»ä½“å†…å®šä¹‰å…¶ä»–å‡½æ•°ï¼Œç§°ä¸ºåµŒå¥—å‡½æ•°ã€‚

```swift
func chooseStepFunction(backward: Bool) -> (Int) -> Int {
    func stepForward(input: Int) -> Int { return input + 1 }
    func stepBackward(input: Int) -> Int { return input - 1 }
    return backward ? stepBackward : stepForward
}
var currentValue = -4
let moveNearerToZero = chooseStepFunction(backward: currentValue > 0)
// moveNearerToZero now refers to the nested stepForward() function
while currentValue != 0 {
    print("\(currentValue)... ")
    currentValue = moveNearerToZero(currentValue)
}
print("zero!")
// -4...
// -3...
// -2...
// -1...
// zero!
```



# é—­åŒ…

é—­åŒ…ï¼ˆclosureï¼‰æ˜¯è‡ªåŒ…å«çš„å‡½æ•°å—ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­ä¼ é€’å’Œä½¿ç”¨ã€‚Swift ä¸­çš„é—­åŒ…ç±»ä¼¼äº C å’Œ Objective-C ä¸­çš„ blockã€‚



**å…¨å±€å‡½æ•°å’ŒåµŒå¥—å‡½æ•°æ˜¯å®é™…ä¸Šæ˜¯é—­åŒ…çš„ç‰¹ä¾‹ã€‚**é—­åŒ…æœ‰ä»¥ä¸‹ä¸‰ç§å½¢å¼ï¼š

- å…¨å±€å‡½æ•°æ˜¯å…·æœ‰åç§°ä¸”ä¸æ•è·ä»»ä½•å€¼çš„é—­åŒ…ã€‚
- åµŒå¥—å‡½æ•°æ˜¯å…·æœ‰åç§°çš„é—­åŒ…ï¼Œå¯ä»¥ä»å…¶å°é—­å‡½æ•°ä¸­æ•è·å€¼ã€‚
- é—­åŒ…è¡¨è¾¾å¼æ˜¯ç”¨è½»é‡çº§è¯­æ³•ç¼–å†™çš„æœªå‘½åé—­åŒ…ï¼Œå¯ä»¥ä»å‘¨å›´çš„ä¸Šä¸‹æ–‡ä¸­æ•è·å€¼ã€‚



## é—­åŒ…è¡¨è¾¾å¼

è°ƒç”¨`Array`å¯¹è±¡çš„`sorted(by:)`å‡½æ•°æ—¶ï¼Œéœ€è¦å‘è¯¥å‡½æ•°ä¼ é€’ä¸€ä¸ªé—­åŒ…ï¼Œè¿™ä¸ªé—­åŒ…å…·æœ‰ä¸¤ä¸ªä¸æ•°ç»„å­˜å‚¨ç±»å‹ä¸€è‡´çš„å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ª`Bool`å€¼ï¼Œè¿™ä¸ª`Bool`å€¼ç”¨æ¥è¯´æ˜åœ¨æ’åºæ—¶ç»™å®šçš„ç¬¬ä¸€ä¸ªå‚æ•°å€¼æ˜¯æ’åœ¨ç»™å®šçš„ç¬¬äºŒä¸ªå‚æ•°å€¼ä¹‹å‰ï¼ˆ`true`ï¼‰è¿˜æ˜¯ä¹‹åï¼ˆ`false`ï¼‰ã€‚ç”±äºå…¨å±€å‡½æ•°æ˜¯é—­åŒ…çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ï¼Œæ‰€ä»¥å¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨`sorted(by:)`å‡½æ•°ï¼š

```swift
let names = ["Chris", "Alex", "Ewa", "Barry", "Daniella"]

func backward(_ s1: String, _ s2: String) -> Bool {
    return s1 > s2
}

var reversedNames = names.sorted(by: backward)
// reversedNames is equal to ["Ewa", "Daniella", "Chris", "Barry", "Alex"]
```

ä½†æ˜¯ä¸Šé¢è¿™ç§æ–¹å¼æ¯”è¾ƒå†—é•¿ï¼Œä¸ºäº†è®©ä»£ç æ›´åŠ ç®€æ´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é—­åŒ…è¡¨è¾¾å¼è¯­æ³•å†…è”ç¼–å†™æ’åºé—­åŒ…ã€‚



é—­åŒ…è¡¨è¾¾å¼è¯­æ³•æœ‰ä»¥ä¸‹ä¸€èˆ¬å½¢å¼ï¼š

â€‹	{ (`parameters`) **->** `return type` **in**
â€‹    	`statements`
â€‹	}



ä¸Šé¢ä¾‹å­ä¸­çš„æ’åºé—­åŒ…å¯ä»¥å†™æˆè¿™æ ·ï¼š

```swift
reversedNames = names.sorted(by: { (s1: String, s2: String) -> Bool in
    return s1 > s2
})
```



### ä»ä¸Šä¸‹æ–‡æ¨æ–­ç±»å‹

å½“å°†é—­åŒ…ä½œä¸ºä¸€ä¸ªå†…è”é—­åŒ…è¡¨è¾¾å¼ä¼ é€’ç»™å‡½æ•°æˆ–è€…æ–¹æ³•æ—¶ï¼ŒSwift æ€»æ˜¯å¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡è‡ªåŠ¨æ¨æ–­å‡ºé—­åŒ…çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ã€‚å› æ­¤ï¼Œä¸Šé¢ä¾‹å­ä¸­çš„æ’åºé—­åŒ…è¿˜å¯ä»¥ç¼–å†™ä¸ºï¼š

```swift
reversedNames = names.sorted(by: { s1, s2 in return s1 > s2 } )
```



### å•ä¸€è¡¨è¾¾å¼é—­åŒ…çš„éšå¼è¿”å›å€¼

æˆ‘ä»¬å¯ä»¥é€šè¿‡çœç•¥**å•ä¸€è¡¨è¾¾å¼**é—­åŒ…çš„`return`å…³é”®å­—æ¥éšå¼è¿”å›è¯¥é—­åŒ…ä¸»ä½“å†…çš„å•ä¸€è¡¨è¾¾å¼çš„è¿”å›å€¼ï¼Œä¸Šé¢ä¾‹å­ä¸­æ’åºé—­åŒ…çš„å•ä¸€è¡¨è¾¾å¼`s1>s2`ä¼šè¿”å›ä¸€ä¸ª`Bool`å€¼ï¼Œå› æ­¤è¿˜å¯ä»¥ç¼–å†™æˆä»¥ä¸‹è¿™æ ·ï¼š

```swift
reversedNames = names.sorted(by: { s1, s2 in s1 > s2 } )
```



### ç®€å†™å‚æ•°åç§°

Swift ä¼šè‡ªåŠ¨ä¸º**å†…è”é—­åŒ…**æä¾›ç®€å†™çš„å‚æ•°åç§°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åç§°`$0`ã€`$1`ã€`$2`...æ¥å¼•ç”¨å†…è”é—­åŒ…`ç¬¬ä¸€ä¸ª`ã€`ç¬¬äºŒä¸ª`ã€`ç¬¬ä¸‰ä¸ª`...å‚æ•°çš„å€¼ã€‚å¦‚æœæˆ‘ä»¬åœ¨å†…è”é—­åŒ…è¡¨è¾¾å¼çš„ä¸»ä½“å†…ä½¿ç”¨äº†è¿™äº›ç®€å†™å‚æ•°åç§°ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥çœç•¥å†…è”é—­åŒ…è¡¨è¾¾å¼ä¸­çš„å‚æ•°åˆ—è¡¨ï¼Œ`in`å…³é”®å­—ä¹Ÿå¯ä»¥çœç•¥ï¼š

```swift
reversedNames = names.sorted(by: { $0 > $1 } )
```



### è¿ç®—ç¬¦æ–¹æ³•

ä»¥ä¸Šä¾‹å­ä¸­çš„å†…è”é—­åŒ…è¡¨è¾¾å¼è¿˜æœ‰ä¸€ç§æ›´ç®€å•çš„ç¼–å†™æ–¹å¼--[è‡ªåŠ¨é—­åŒ…](#è‡ªåŠ¨é—­åŒ…)ï¼š

```swift
reversedNames = names.sorted(by: >)
```



## å°¾éšé—­åŒ…

å½“éœ€è¦å°†é—­åŒ…è¡¨è¾¾å¼ä¼ é€’ç»™å‡½æ•°ä½œä¸ºå‡½æ•°çš„æœ€ç»ˆå‚æ•°ï¼Œå¹¶ä¸”é—­åŒ…è¡¨è¾¾å¼å¾ˆé•¿ï¼Œé‚£ä¹ˆå°†å…¶ç¼–å†™ä¸º**å°¾éšé—­åŒ…**æ˜¯éå¸¸æœ‰ç”¨åœ°ã€‚

```swift
func someFunctionThatTakesAClosure(closure: () -> Void) {
    // function body goes here
}

// ä½¿ç”¨é—­åŒ…è°ƒç”¨å‡½æ•°

someFunctionThatTakesAClosure(closure: {
    // closure's body goes here
})

// ä½¿ç”¨å°¾éšé—­åŒ…è°ƒç”¨å‡½æ•°

someFunctionThatTakesAClosure() {
    // trailing closure's body goes here
}
```



å‰é¢ä¾‹å­ä¸­çš„æ’åºå‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨å°¾éšé—­åŒ…å»è°ƒç”¨ï¼š

```swift
reversedNames = names.sorted() {(s1: String, s2: String) -> Bool in
    return s1 > s2
}
```

å¦‚æœé—­åŒ…æ˜¯å‡½æ•°æˆ–æ–¹æ³•çš„å”¯ä¸€å‚æ•°ï¼Œå¹¶ä¸”ä½¿ç”¨å°¾éšé—­åŒ…å»è°ƒç”¨å‡½æ•°æˆ–æ–¹æ³•ï¼Œåˆ™åœ¨è°ƒç”¨å‡½æ•°æˆ–è€…æ–¹æ³•æ—¶å¯ä»¥çœç•¥å‡½æ•°åç§°åé¢çš„ä¸€å¯¹æ‹¬å·`()`ï¼š

```swift
// é—­åŒ…çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹è¢«çœç•¥äº†
reversedNames = names.sorted { $0 > $1 }
```



Swift çš„`Array`ç±»å‹æœ‰ä¸€ä¸ª`map(_:)`æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªé—­åŒ…è¡¨è¾¾å¼ä½œä¸ºå…¶å”¯ä¸€å‚æ•°ï¼Œè¯¥æ–¹æ³•ä¼šä¸ºæ•°ç»„å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨ä¸€æ¬¡ä¼ é€’è¿›æ¥çš„é—­åŒ…æ¥è¿”å›è¯¥å…ƒç´ çš„æ˜ å°„å€¼ã€‚åœ¨ä»¥ä¸‹ä»£ç ä¸­ï¼Œç”±äºé—­åŒ…è¡¨è¾¾å¼è¾ƒé•¿ï¼Œæ‰€ä»¥ä½¿ç”¨å°¾éšé—­åŒ…æ¥è°ƒç”¨`map(_:)`æ–¹æ³•ï¼š

```swift
let digitNames = [
    0: "Zero", 1: "One", 2: "Two",   3: "Three", 4: "Four",
    5: "Five", 6: "Six", 7: "Seven", 8: "Eight", 9: "Nine"
]
let numbers = [16, 58, 510]

let strings = numbers.map { (number) -> String in
    var number = number
    var output = ""
    repeat {
        output = digitNames[number % 10]! + output
        number /= 10
    } while number > 0
    return output
}
// strings is inferred to be of type [String]
// its value is ["OneSix", "FiveEight", "FiveOneZero"]
```



å¦‚æœä¸€ä¸ªå‡½æ•°éœ€è¦å¤šä¸ªé—­åŒ…å‚æ•°ï¼Œåˆ™çœç•¥ç¬¬ä¸€ä¸ªå°¾éšé—­åŒ…çš„å‚æ•°æ ‡ç­¾ï¼Œå¹¶æ ‡è®°å…¶ä½™çš„å°¾éšé—­åŒ…ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„å‡½æ•°ä¸ºç…§ç‰‡åº“åŠ è½½å›¾ç‰‡ï¼š

```swift
func loadPicture(from server: Server, completion: (Picture) -> Void, onFailure: () -> Void) {
    if let picture = download("photo.jpg", from: server) {
        completion(picture)
    } else {
        onFailure()
    }
}
// è°ƒç”¨loadPictureå‡½æ•°
loadPicture(from: someServer) { picture in
    someView.currentPicture = picture
} onFailure: {
    print("Couldn't download the next picture.")
}
```



## æ•è·å€¼

é—­åŒ…å¯ä»¥ä»å‘¨å›´ä¸Šä¸‹æ–‡ä¸­æ•è·å¸¸é‡å’Œå˜é‡ï¼Œåœ¨é—­åŒ…è¡¨è¾¾å¼ä¸»ä½“å†…å¯ä»¥å¼•ç”¨å’Œä¿®æ”¹è¿™äº›å¸¸é‡å’Œå˜é‡çš„å€¼ï¼Œå³ä½¿å®šä¹‰å¸¸é‡å’Œå˜é‡çš„åŸå§‹ä½œç”¨åŸŸå·²ä¸å­˜åœ¨ã€‚



åœ¨ Swift ä¸­ï¼Œå¯ä»¥æ•è·å€¼çš„é—­åŒ…çš„æœ€ç®€å•å½¢å¼æ˜¯åµŒå¥—å‡½æ•°ï¼ŒåµŒå¥—å‡½æ•°å¯ä»¥æ•è·å…¶å¤–éƒ¨å‡½æ•°çš„ä»»ä½•å‚æ•°ï¼Œä¹Ÿå¯ä»¥æ•è·å¤–éƒ¨å‡½æ•°ä¸­å®šä¹‰çš„ä»»ä½•å¸¸é‡å’Œå˜é‡ã€‚

```swift
func makeIncrementer(forIncrement amount: Int) -> () -> Int {
    var runningTotal = 0
    func incrementer() -> Int {
        runningTotal += amount
        return runningTotal
    }
    return incrementer
}

let incrementByTen = makeIncrementer(forIncrement: 10)

/*
	æ­¤æ—¶ makeIncrementer å‡½æ•°çš„æ ˆå¸§å·²è¢«é‡Šæ”¾ï¼Œè€Œ runningTotal å˜é‡å·²è¢« incrementByTen é—­åŒ…å¼•ç”¨
*/

incrementByTen()
// returns a value of 10
incrementByTen()
// returns a value of 20
incrementByTen()
// returns a value of 30

let incrementBySeven = makeIncrementer(forIncrement: 7)
incrementBySeven()
// returns a value of 7
```



é—­åŒ…ä¼šä»å‘¨å›´ä¸Šä¸‹æ–‡ä¸­æ•è·å¯¹å¸¸é‡å’Œå˜é‡çš„å¼•ç”¨ï¼Œä»è€Œç¡®ä¿åœ¨å®šä¹‰å¸¸é‡å’Œå˜é‡çš„ä½œç”¨åŸŸå¤±æ•ˆåè°ƒç”¨é—­åŒ…æ—¶ï¼Œå¸¸é‡å’Œå˜é‡è¿˜æœªè¢«é”€æ¯ã€‚



## é—­åŒ…æ˜¯å¼•ç”¨ç±»å‹

å‡½æ•°å’Œé—­åŒ…å±äºå¼•ç”¨ç±»å‹ã€‚å°†å‡½æ•°æˆ–é—­åŒ…åˆ†é…ç»™å¸¸é‡æˆ–å˜é‡æ—¶ï¼Œå®é™…ä¸Šæ˜¯å°†å¸¸é‡å’Œå˜é‡çš„æŒ‡é’ˆæŒ‡å‘äº†é—­åŒ…çš„å†…å­˜åœ°å€ã€‚ä»¥ä¸‹ä»£ç ä¸­çš„`alsoIncrementByTen`å¸¸é‡å’Œä¸Šé¢çš„`incrementByTen`å¸¸é‡å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ªé—­åŒ…ï¼š

```swift
let alsoIncrementByTen = incrementByTen
alsoIncrementByTen()
// returns a value of 50

incrementByTen()
// returns a value of 60
```



## é€ƒé€¸é—­åŒ…

ä¸€ä¸ªé—­åŒ…è¢«ä½œä¸ºå‚æ•°ä¼ é€’ç»™æŸä¸ªå‡½æ•°ï¼Œå¹¶åœ¨è¯¥å‡½æ•°è¿”å›ä¹‹åæ‰è¢«æ‰§è¡Œï¼ŒSwift å°†è¿™ç§åœºæ™¯ç§°ä¸ºé—­åŒ…ä»å‡½æ•°ä¸­é€ƒé€¸ã€‚åœ¨å£°æ˜ä¸€ä¸ªå°†é—­åŒ…ä½œä¸ºå…¶å‚æ•°ä¹‹ä¸€çš„å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨å‚æ•°çš„ç±»å‹å‰åŠ ä¸Š`@escaping`æ¥è¡¨ç¤ºå…è®¸é—­åŒ…ä»å‡½æ•°ä¸­é€ƒé€¸ã€‚



é€ƒé€¸é—­åŒ…å¤šè¢«ç”¨æ¥å½“ä½œå‡½æ•°å›è°ƒï¼Œä¾‹å¦‚ï¼šè®¸å¤šæ‰§è¡Œå¼‚æ­¥æ“ä½œçš„å‡½æ•°ä¼šå°†é—­åŒ…å‚æ•°ä½œä¸ºå…¶å®Œæˆå¤„ç†ç¨‹åºï¼Œå‡½æ•°åœ¨å¼€å§‹æ‰§è¡Œå¼‚æ­¥æ“ä½œåè¿”å›ï¼Œä½†ç›´åˆ°å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œæ¯•åæ‰è°ƒç”¨é—­åŒ…ã€‚



ä»¥ä¸‹ä»£ç ä¸­ï¼Œ`completionHandlers`å˜é‡æ˜¯ä¸€ä¸ªå­˜æ”¾`() -> Void`ç±»å‹é—­åŒ…çš„æ•°ç»„ï¼Œ`someFunctionWithEscapingClosure`å‡½æ•°ä¼šå°†ä¼ é€’è¿›æ¥çš„é—­åŒ…æ·»åŠ åˆ°`completionHandlers`æ•°ç»„ä¸­ã€‚å¦‚æœæ²¡æœ‰å…è®¸ä¼ é€’è¿›æ¥çš„é—­åŒ…å¯ä»¥ä»å‡½æ•°ä¸­é€ƒé€¸çš„è¯ï¼Œç¼–è¯‘ä»¥ä¸‹ä»£ç æ—¶ä¼šæŠ¥é”™ã€‚

```swift
var completionHandlers: [() -> Void] = []
func someFunctionWithEscapingClosure(completionHandler: @escaping () -> Void) {
    completionHandlers.append(completionHandler)
}
```



**å¼•ç”¨`self`çš„é€ƒé€¸é—­åŒ…ï¼Œå¦‚æœ`self`æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œåˆ™å¯èƒ½ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨ã€‚æœ‰å…³å¾ªç¯å¼•ç”¨çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚çœ‹åé¢çš„[è‡ªåŠ¨å¼•ç”¨è®¡æ•°](#è‡ªåŠ¨å¼•ç”¨è®¡æ•°)ç« èŠ‚ã€‚**



**éé€ƒé€¸é—­åŒ…å¯ä»¥éšå¼åœ°å¼•ç”¨`self`ï¼Œè€Œé€ƒé€¸é—­åŒ…å¿…é¡»æ˜¾å¼åœ°å¼•ç”¨`self`ã€‚**ä»¥ä¸‹ä»£ç ä¸­ï¼Œä¼ é€’ç»™`someFunctionWithEscapingClosure`å‡½æ•°çš„é—­åŒ…**æ˜¾å¼**åœ°å¼•ç”¨äº†`self`ï¼Œè€Œä¼ é€’ç»™`someFunctionWithNonescapingClosure`å‡½æ•°çš„é—­åŒ…**éšå¼**åœ°å¼•ç”¨äº†`self`ã€‚

```swift
func someFunctionWithNonescapingClosure(closure: () -> Void) {
    closure()
}

class SomeClass {
    // å±æ€§ x
    var x = 10
  
    func doSomething() {
        someFunctionWithEscapingClosure { self.x = 100 }
        someFunctionWithNonescapingClosure { x = 200 }
    }
}

let instance = SomeClass()
instance.doSomething()
print(instance.x)
// Prints "200"

completionHandlers.first?()
print(instance.x)
// Prints "100"
```



å¦‚æœ`self`æ˜¯ä¸€ä¸ªç»“æ„ä½“æˆ–æšä¸¾çš„å®ä¾‹ï¼Œåˆ™é—­åŒ…å§‹ç»ˆå¯ä»¥**éšå¼**åœ°å¼•ç”¨`self`ã€‚ä½†æ˜¯ï¼Œå½“`self`æ˜¯ç»“æ„ä½“æˆ–è€…æšä¸¾çš„å®ä¾‹æ—¶ï¼Œé€ƒé€¸é—­åŒ…æ— æ³•æ•è·å¯¹`self`çš„å¯å˜å¼•ç”¨ã€‚å¦‚[ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹](#ç»“æ„ä½“å’Œæšä¸¾æ˜¯å€¼ç±»å‹)ç« èŠ‚ä¸­æ‰€è¿°ï¼Œç»“æ„ä½“å’Œæšä¸¾ä¸å…è®¸å…±äº«å¯å˜æ€§ã€‚

```swift
struct SomeStruct {
    var x = 10
    mutating func doSomething() {
        someFunctionWithNonescapingClosure { x = 200 }  // Ok
        someFunctionWithEscapingClosure { x = 100 }     // Error, ä¸å…è®¸å…±äº«å¯å˜æ€§
    }
}
```



## è‡ªåŠ¨é—­åŒ…

å®šä¹‰ä¸€ä¸ªå…·æœ‰é—­åŒ…ç±»å‹çš„å‚æ•°çš„å‡½æ•°æ—¶ï¼Œå¦‚æœåœ¨é—­åŒ…ç±»å‹å‰åŠ ä¸Š`@autoclosure`å±æ€§æ¥æ ‡è®°å‚æ•°å¯ä»¥è‡ªåŠ¨è½¬æ¢ä¸ºé—­åŒ…ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ä½¿ç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œå¯ä»¥ç›´æ¥å°†ä¸€æ®µä»£ç ä½œä¸ºé—­åŒ…å‚æ•°ä¼ é€’ç»™è¿™ä¸ªå‡½æ•°ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨ä¸ºè¿™æ®µä»£ç åˆ›å»ºä¸€ä¸ªé—­åŒ…ã€‚

```swift
var customersInLine = ["Chris", "Alex", "Ewa", "Barry", "Daniella"]

func serve(customer customerProvider: @autoclosure () -> String) {
    print("Now serving \(customerProvider())!")
}
serve(customer: customersInLine.remove(at: 0))

/*
	å¯ä»¥é€ƒé€¸çš„è‡ªåŠ¨é—­åŒ…
*/
// customersInLine is ["Barry", "Daniella"]
var customerProviders: [() -> String] = []
func collectCustomerProviders(_ customerProvider: @autoclosure @escaping () -> String) {
    customerProviders.append(customerProvider)
}
collectCustomerProviders(customersInLine.remove(at: 0))
collectCustomerProviders(customersInLine.remove(at: 0))

print("Collected \(customerProviders.count) closures.")
// Prints "Collected 2 closures."
for customerProvider in customerProviders {
    print("Now serving \(customerProvider())!")
}
// Prints "Now serving Barry!"
// Prints "Now serving Daniella!"
```



# æšä¸¾



## æšä¸¾è¯­æ³•

ä½¿ç”¨`enum`å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªæšä¸¾ï¼Œå¹¶ä½¿ç”¨`case`å…³é”®å­—æ¥å¼•å…¥ä¸€ä¸ªæ–°çš„æšä¸¾æ¡ˆä¾‹ï¼š

```swift
enum CompassPoint {
    case north
    case south
    case east
    case west
}
```

å¤šä¸ªæšä¸¾æ¡ˆä¾‹å¯ä»¥å‡ºç°åœ¨åŒä¸€è¡Œä¸Šï¼Œç”¨é€—å·éš”å¼€ï¼š

```swift
enum Planet {
    case mercury, venus, earth, mars, jupiter, saturn, uranus, neptune
}
```



å®šä¹‰ä¸€ä¸ªæšä¸¾å°±æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œä¸ Swift ä¸­çš„å…¶ä»–ç±»å‹ä¸€æ ·ï¼Œæšä¸¾çš„åå­—ä»¥å¤§å†™å­—æ¯å¼€å¤´ã€‚



ä½¿ç”¨æšä¸¾ï¼š

```swift
var directionToHead = CompassPoint.west

// directionToHeadçš„ç±»å‹å·²ç»å·²çŸ¥ï¼Œæ‰€ä»¥å¯ä»¥çœç•¥æ‰æšä¸¾çš„ç±»å‹
directionToHead = .east
```



## å°†æšä¸¾å€¼ä¸ switch-case è¯­å¥åŒ¹é…

```swift
directionToHead = .south
switch directionToHead {
case .north:
    print("Lots of planets have a north")
case .south:
    print("Watch out for penguins")
case .east:
    print("Where the sun rises")
case .west:
    print("Where the skies are blue")
}
// Prints "Watch out for penguins"
```



## è¿­ä»£æšä¸¾æ¡ˆä¾‹

å½“æšä¸¾éµå¾ª`CaseIterable`åè®®æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æšä¸¾çš„`allCases`å±æ€§æ¥è¿­ä»£æšä¸¾æ¡ˆä¾‹ã€‚

```swift
enum Beverage: CaseIterable {
    case coffee, tea, juice
}
let numberOfChoices = Beverage.allCases.count
print("\(numberOfChoices) beverages available")
// Prints "3 beverages available"

for beverage in Beverage.allCases {
    print(beverage)
}
// coffee
// tea
// juice
```



## å…³è”å€¼

æšä¸¾çš„æ¡ˆä¾‹è¿˜å¯ä»¥å…³è”ä¸€ä¸ªå…¶ä»–ç±»å‹çš„å€¼ï¼Œè¿™ç§æšä¸¾è¢«ç§°ä¸º discriminated union æˆ– tagged unionã€‚



ä¾‹å¦‚ï¼Œå‡è®¾åº“å­˜è·Ÿè¸ªç³»ç»Ÿéœ€è¦é€šè¿‡ä¸¤ç§ä¸åŒç±»å‹çš„æ¡å½¢ç æ¥è·Ÿè¸ªäº§å“ï¼Œä¸€éƒ¨åˆ†äº§å“ä½¿ç”¨äº† UPC æ ¼å¼çš„ 1D æ¡å½¢ç ï¼ˆæ¯ä¸ªç«–çº¿æ¡ä»£è¡¨`0`åˆ°`9`ä¹‹é—´çš„æŸä¸ªæ•°å­—ï¼‰æ¥æ ‡è®°ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†äº§å“ä½¿ç”¨äº†äºŒç»´ç æ ¼å¼çš„ 2D æ¡å½¢ç ï¼ˆä½¿ç”¨è‹¥å¹²ä¸ªä¸äºŒè¿›åˆ¶ç›¸å¯¹åº”çš„å‡ ä½•å½¢ä½“æ¥è¡¨ç¤ºä»»ä½• ISO 8859-1 å­—ç¬¦ï¼‰æ¥æ ‡è®°ã€‚åº“å­˜è·Ÿè¸ªç³»ç»Ÿå°† UPC æ¡å½¢ç å­˜å‚¨ä¸ºåŒ…å«4ä¸ª`Int`ç±»å‹çš„å…ƒç»„ï¼Œå°†äºŒç»´ç æ¡å½¢ç å­˜å‚¨ä¸ºä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²ã€‚

![UPCæ ¼å¼æ¡å½¢ç ](https://docs.swift.org/swift-book/_images/barcode_UPC_2x.png)

![äºŒç»´ç æ ¼å¼æ¡å½¢ç ](https://docs.swift.org/swift-book/_images/barcode_QR_2x.png)

åœ¨ Swift ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä¸Šé¢çš„ä¾‹å­å®šä¹‰ä¸€ä¸ªäº§å“æ¡å½¢ç çš„æšä¸¾ï¼š

```swift
enum Barcode {
    case upc(Int, Int, Int, Int)
    case qrCode(String)
}
```

æˆ‘ä»¬å¯ä»¥ä¸ºæŸä¸ªäº§å“åˆ›å»ºä¸€ä¸ªæ–°çš„æ¡å½¢ç ï¼Œå¹¶è®¾ç½®ä¸åŒæ ¼å¼çš„æ¡å½¢ç ï¼š

```swift
var productBarcode = Barcode.upc(8, 85909, 51226, 3)

productBarcode = .qrCode("ABCDEFGHIJKLMNOP")
```

ä½¿ç”¨`switch-case`è¯­å¥æ£€æŸ¥æ¡å½¢ç ç±»å‹å¹¶æå–å…³è”å€¼ï¼š

```swift
switch productBarcode {
case .upc(let numberSystem, let manufacturer, let product, let check):
    print("UPC: \(numberSystem), \(manufacturer), \(product), \(check).")
case .qrCode(let productCode):
    print("QR code: \(productCode).")
}
// Prints "QR code: ABCDEFGHIJKLMNOP."

/*
	å¦‚æœæ‰€æœ‰å…³è”å€¼éƒ½ç»Ÿä¸€è¢«æå–ä¸ºå¸¸é‡æˆ–è€…å˜é‡ï¼Œåˆ™å¯ä»¥ç›´æ¥åœ¨æ¡ˆä¾‹å‰åŠ ä¸Š`let`æˆ–è€…`var`å…³é”®å­—ï¼Œè€Œä¸ç”¨é€ä¸ªæ˜¾å¼å£°æ˜
*/
switch productBarcode {
case let .upc(numberSystem, manufacturer, product, check):
    print("UPC : \(numberSystem), \(manufacturer), \(product), \(check).")
case let .qrCode(productCode):
    print("QR code: \(productCode).")
}
// Prints "QR code: ABCDEFGHIJKLMNOP."
```



## åŸå§‹å€¼

æšä¸¾çš„æ¡ˆä¾‹è¿˜å¯ä»¥æ‰‹åŠ¨è®¾ç½®é»˜è®¤å€¼ï¼ˆç§°ä¸ºåŸå§‹å€¼ï¼‰ï¼Œè¿™äº›å€¼éƒ½æ˜¯**åŒä¸€**ç±»å‹çš„ã€‚



ä»¥ä¸‹æ˜¯ä¸€ä¸ªå°†æ¡ˆä¾‹çš„åŸå§‹å€¼è®¾ç½®ä¸ºåŸå§‹ ASCII å€¼çš„æšä¸¾ï¼š

```swift
enum ASCIIControlCharacter: Character {
    case tab = "\t"
    case lineFeed = "\n"
    case carriageReturn = "\r"
}
```

åŸå§‹å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€å­—ç¬¦æˆ–è€…ä»»ä½•æ•´æ•°æˆ–æµ®ç‚¹æ•°ç±»å‹ï¼Œæ¯ä¸ªåŸå§‹å€¼åœ¨å…¶æšä¸¾å£°æ˜ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„ã€‚



### éšå¼åˆ†é…åŸå§‹å€¼

